{% extends 'app1/base.html' %}
{% block body %}
{% load static %}
<script src="//code.jquery.com/jquery-1.11.1.min.js"></script>

<!-- <script> -->
<!-- //   $(document).ready(function() {
//     var i = 1;
//     $("#add_row").click(function() {
//       b = i - 1;
//       $('#addr' + i).html($('#addr' + b).html()).find('td:first-child').html(i + 1);
//       $('#tab_logic').append('<tr id="addr' + (i + 1) + '"></tr>');
//       i++;
//     });
//     $("#delete_row").click(function() {
//       if (i > 1) {
//         $("#addr" + (i - 1)).html('');
//         i--;
//       }
//       calc();
//     });
//     $('#tab_logic tbody').on('keyup change', function() {
//       calc();
//     });

//     $('#tax').on('keyup change', function() {
//       calc_total();
//     });
//   });

//   function calc() {
//     $('#tab_logic tbody tr').each(function() {
//       var html = $(this).html();
//       if (html != '') {
//         var qty = $(this).find('.qty').val();
//         var price = $(this).find('.price').val();
//         var tax = $(this).find('.tax').val();
//         $(this).find('.total').val(parseFloat(qty * price));
//         $(this).find('.taxamount').val(parseFloat((qty * price) * (parseFloat(tax) / 100)));
//         calc_total();
//       }
//     });
//   }

//   function calc_total() {
//     total = 0;
//     $('.total').each(function() {
//       total += parseFloat($(this).val());
//     });
//     taxamount = 0.0;
//     $('.taxamount').each(function() {
//       taxamount += parseFloat($(this).val());
//     });
//     $('#subtotal').val(parseFloat(total.toFixed(2)));
    
//     $('#grandtotal').val(parseFloat((taxamount + total).toFixed(2)));
//     $('#baldue').val(parseFloat((taxamount + total).toFixed(2)));

//     calc_tcs();
//   }

//   function calc_tcs() {
//             tcsamount = 0;
//             var a = document.getElementById("tcs1").value

//             tcs=0
//             tcs =a/100 * total

           

           
//             $('#tcs_amount').val(parseFloat((a/100) *total.toFixed(2)));
           

//             $('#grandtotal').val(parseFloat((taxamount + total+tcs).toFixed(2)));

//             $('#baldue').val(parseFloat((taxamount + total+tcs) .toFixed(2)));


            
//             test()
//         }



//   function test(){

// var bc = document.getElementById("plosu").value

// d=0
// if (bc == '{{ cmp1.state }}' ) {
//     gst = taxamount/2
//     $('#cgst').val(parseFloat(gst.toFixed(2)));
//     $('#sgst').val(parseFloat(gst.toFixed(2)));
//     $('#igst').val(parseFloat(d.toFixed(2)));
  
//     }
    
// if (bc != '{{ cmp1.state }}' ) {
//     $('#tax_amount').val(parseFloat(taxamount.toFixed(2)));
//     $('#cgst').val(d.toFixed(2));
//     $('#igst').val(d.toFixed(2));
// }

// }


// function calc_roundoff(){

// var amount =taxamount + total + tcs

// let x =Math.round(amount)

// $('#round_off').val(parseFloat(x.toFixed(2)));
// $('#grandtotal').val(parseFloat(x.toFixed(2)));
// $('#baldue').val(parseFloat(x .toFixed(2)));
// } -->

  
<!-- // </script> -->

<style>
  input {
    background-color: #2f516f;
    border: 0;
    border-radius: 5px;
    color: white;
  }
</style>
<form action="{% url 'updatesales' sale.id %}" method="post" class="needs-validation" enctype="multipart/form-data" novalidate>
  {% csrf_token %}
  <div class="page-content">
    <!--breadcrumb-->
    <div class="card radius-15">
      <div class="card-body">
        <div class="card-title">
            <center><h2 class="mb-0" id="estno">EDIT SALES ORDER : {{ sale.saleno }}</h2></center>
        </div>
        <hr />
      </div>
    </div>
    <div class="card radius-15">
      <div class="card-body">
        <div id="invoice">

            <div class="row mt-3">
                <div class="col-md-4">
                    <label class="col-form-label">Customer</label>
                    <div class="d-flex">
                      <select name="customer" id="customer" class="form-control" style="width: 95%;">
                          <option value="{{ sale.salename }}" selected>{{cust.title}} {{cust.firstname}} {{cust.lastname}}
                          </option>
                          {% for cust in customers %}
                              {% if cust.cid_id == cmp1.cid %}
                                  <option text=""
                                          value="{{ cust.customerid }} {{ cust.firstname }} {{ cust.lastname }}">{{cust.title}} {{ cust.firstname }} {{ cust.lastname }}</option>
                              {% endif %}
                          {% endfor %}
                      </select>
                      <a data-toggle="modal" href="#customercreation">
                          <button type="button" class="btn btn-outline-secondary ml-1">+</button>
                      </a>
                  </div>

                </div>
                <div class="col-md-4">
                  <label class="col-form-label">Email</label>
                  <input type="text" class="form-control" id="cust_email" name="email" placeholder="Email" value="{{ sale.saleemail  }}">
              </div>
                
                <div class="col-md-4">
                  <label class="col-form-label">Billing Address</label>
                  <label for="billingaddress"></label>
                  <textarea class="form-control" rows="7" id="bname" name="billingaddress" value="{{ sale.saleaddress }}"> {{ sale.saleaddress }}</textarea>
              </div>
            </div>
            <div class="row mt-3">
                
            </div>
            <div class="row mt-3">
                
                
                <div class="col-md-3">
                    <label class="col-form-label">Sales Order Date</label>
                    <input type="date" class="form-control" value="{{ sale.saledate | date:'Y-m-d'  }}" name="Salesdate"><br>
                </div>
                <div class="col-md-3">
                    <label class="col-form-label"> Expected Shipment Date </label>
                    <input type="date" class="form-control" value="{{ sale.shipmentdate | date:'Y-m-d' }}"  name="Shipmentdate" required><br>
                </div>
                <div class="col-md-3">
                    <label class="col-form-label">Reference Number</label>
                    <input type="text" class="form-control" name="Ref_No" value="{{ sale.reference_number}}" ><br>
                </div>
                <div class="col-md-3 ">
                  <label class="col-form-label">Place of supply</label>
                  <select type="text" class="form-control" id="plosu" name="placosupply" style="background-color: #2f516f; color: white;" onchange="state(this)">
                    <option value="{{ sale.placeofsupply}}" selected> {{ sale.placeofsupply}}</option>
                    <option value="Andaman and Nicobar Islads">Andaman and Nicobar Islads</option>
                    <option value="Andhra Predhesh">Andhra Predhesh</option>
                    <option value="Arunachal Predesh">Arunachal Predesh</option>
                    <option value="Assam">Assam</option>
                    <option value="Bihar">Bihar</option>
                    <option value="Chandigarh">Chandigarh</option>
                    <option value="Chhattisgarh">Chhattisgarh</option>
                    <option value="Dadra and Nagar Haveli">Dadra and Nagar Haveli</option>
                    <option value="Damn anad Diu">Damn anad Diu</option>
                    <option value="Delhi">Delhi</option>
                    <option value="Goa">Goa</option>
                    <option value="Gujarat">Gujarat</option>
                    <option value="Haryana">Haryana</option>
                    <option value="Himachal Predesh">Himachal Predesh</option>
                    <option value="Jammu and Kashmir">Jammu and Kashmir</option>
                    <option value="Jharkhand">Jharkhand</option>
                    <option value="Karnataka">Karnataka</option>
                    <option value="Kerala">Kerala</option>
                    <option value="Ladakh">Ladakh</option>
                    <option value="Lakshadweep">Lakshadweep</option>
                    <option value="Madhya Predesh">Madhya Predesh</option>
                    <option value="Maharashtra">Maharashtra</option>
                    <option value="Manipur">Manipur</option>
                    <option value="Meghalaya">Meghalaya</option>
                    <option value="Mizoram">Mizoram</option>
                    <option value="Nagaland">Nagaland</option>
                    <option value="Odisha">Odisha</option>
                    <option value="Puducherry">Puducherry</option>
                    <option value="Punjab">Punjab</option>
                    <option value="Rajasthan">Rajasthan</option>
                    <option value="Sikkim">Sikkim</option>
                    <option value="Tamil Nadu">Tamil Nadu</option>
                    <option value="Telangana">Telangana</option>
                    <option value="Tripura">Tripura</option>
                    <option value="Uttar Predesh">Uttar Predesh</option>
                    <option value="Uttarakhand">Uttarakhand</option>
                    <option value="West Bengal">West Bengal</option>
                    <option value="Other Territory">Other Territory</option>
                  </select>
                </div>
            </div>
         
          <div class="row clearfix">
            <div class="col-md-12 table-responsive-md mt-3">
              <table class="table table-bordered table-hover mt-3" id="tab_logic">
                <thead>
                  <tr>
                    <th class="text-center">#</th>
                    <th class="text-center">PRODUCT / SERVICE</th>
                    <th class="text-center">HSN</th>
                    <!-- <th class="text-center">DESCRIPTION</th> -->
                    <th class="text-center">QTY</th>
                    <th class="text-center">PRICE</th>
                    <th class="text-center">TAX (%)</th>
                    <th class="text-center">DISCOUNT</th>
                    <th class="text-center">TOTAL</th>
                    
                  </tr>
                </thead>
                <tbody id="items-table-body">

                  {% for j in itemsale%}
                  <tr id='addr0{{ forloop.counter }}'>
                    <td class="nnum">{{ forloop.counter }} <input type="text"  name='id[]' value="{{ j.id }}" hidden></td>
                    <td style="width: 20%;">
                        <div class="d-flex">
                      <select name='product[]' id="product{{ forloop.counter }}" class="form-control product" style="background-color: #2f516f; color: white;">

                        <option value="{{ j.product }}" selected>{{ j.product }}</option>
                        {% for i in item %}
                        {% if i.cid_id == cmp1.cid %}
                            <option 
                                    value="{{ i.name  }}">{{ i.name  }} </option>
                        {% endif %}
                    {% endfor %}
                        
                      </select>
                      <a href="#">
                        <button type="button" class="btn btn-outline-secondary ml-1" 
                        data-target="#newitem" data-toggle="modal">+</button>
                    </a>
                    </div>
                    </td>
                    <td><input type="text" name='hsn[]'  value="{{ j.hsn }}" id="hsn{{ forloop.counter }}" placeholder='Enter HSN Code' class="form-control" style="background-color: #2f516f; color: white;" /></td>
                    <!-- <td><input type="text" name='description[]'  value="{{ j.description }}"  id="description{{ forloop.counter }}" placeholder='Description' class="form-control" style="background-color: #2f516f; color: white;" /></td> -->
                    <td><input type="number" name='qty[]' value="{{ j.qty  }}"  placeholder='Enter Qty' id="qty{{ forloop.counter }}" value=0 class="form-control qty" step=0 min=0 style="background-color: #2f516f; color: white;" />
                      <span id="qtyspan{{ forloop.counter }}" class='text-muted'></span>
                    </td>
                    <td><input type="number" name='price[]' value="{{ j.price}}" id="unit{{ forloop.counter }}" placeholder='Enter Unit Price' class="form-control price" step="0.00" min="0" style="background-color: #2f516f; color: white;" /></td>
                    
                    
                   
                    <td>
                      <input hidden value="{{cmp1.state}}" id="cmpstate">
                      <input type="text"  id="select_tax" placeholder="Tax Rate" class="form-control seltax d-none">
                      <select name='tax1[]' id="tax1{{ forloop.counter }}" class="form-control tax intra_tax d-none">
                        <option selected value="{{j.tax}}">{{j.tax}}% GST ({{j.tax}}%)</option>
                          <option value=28 >28.0% GST(28%)</option>
                          <option value=18 >18.0% GST(18%)</option>
                          <option value=12  >12.0% GST(12%)</option>
                            <option value=5  >05.0% GST(05%)</option>
                          <option value=3  >03.0% GST(03%)</option>
                            <option value=0  >0.0% GST(0%)</option>
                      </select>
                      <select name='tax2[]' id="tax2{{ forloop.counter }}" class="form-control tax inter_tax d-none">
                        <option selected value="{{j.tax}}">{{j.tax}}% IGST ({{j.tax}}%)</option>
                          <option value=28 >28.0% IGST(28%)</option>
                          <option value=18 >18.0% IGST(18%)</option>
                          <option value=12  >12.0% IGST(12%)</option>
                            <option value=5  >05.0% IGST(05%)</option>
                          <option value=3  >03.0% IGST(03%)</option>
                            <option value=0  >0.0% IGST(0%)</option>
                      </select>
                                       
                    </td>
                    <td>
                      <input type="number" name='discount[]' placeholder='Enter Discount' id="disc{{forloop.counter}}" value="{{j.discount|default:0}}" class="form-control disc" step=0 min=0>
                   </td>
                    <td><input type="number" name='total[]' value="{{ j.total }}" id="total{{ forloop.counter }}" placeholder=0 class="form-control total" value=0 step="any" readonly style="background-color: #2f516f; color: white;" /></td>
                    <td style="display: none;"><input type="number" step="any" name='taxamount1' id="taxamount{{ forloop.counter }}" class="form-control taxamount" />
                    </td>
                    <td>
                      <button type="button" id="{{forloop.counter}}" class="btn  font-weight-bold clone_row fas fa-clone px-2 my-1 py-1" title="Clone Row" style="background-color:rgb(88, 107, 143);"></button><br>
                      <button type="button" id="{{forloop.counter}}" class="btn btn-danger remove_row px-2 py-1 mx-1 fas fa-close" title="Remove Row"> </button>
                  </td>
                  </tr>
                  {% endfor %}

                </tbody>
                <tr>
                  <td style="border: none;"><a class="btn btn-outline-secondary ml-1" role="button" id="add">+</a></td>
              </tr>
                
              
              </table>
              

            </div>
          </div>
          <div class="row clearfix" style="margin-top:20px">
            <div class="col-md-6">

                <textarea class="form-control"  id="" name="Note" placeholder="Note" style="height: 190px;" value="{{ sale.note  }}">{{ sale.note  }}</textarea>

                <input type="file" name="file"  style="margin-top: 10px; width: 70%;">
            </div>

           
            <div class="col-md-1"></div>
              <div class="col-md-5 table-responsive-md mt-3" id="tab_logic_total" style="background-color:rgba(0,0,0,.4); border: 1px solid rgba(128, 128, 128, 0.6);">
                  <div class="p-3">
                      <div class="row container-fluid p-2 m-0">
                          <div class="col-sm-4 mt-2"><label class="text-center">Sub Total</label></div>
                          <div class="col-sm-1 mt-2">:</div>
                          <div class="col-sm-7 mt-2"><input type="number" step="any" name='subtotal' placeholder=0 value="{{sale.subtotal}}"
                              class="form-control" id="sub_total">
                          </div>
                          <div class="col-sm-4 m-0 p-0"></div>
                      </div>
                      <div class="row container-fluid p-2 m-0" id="igst1">
                          <div class="col-sm-4 mt-2"><label for="a" class="text-center">IGST</label></div>
                          <div class="col-sm-1 mt-2">:</div>
                          <div class="col-sm-7 mt-2"><input type="number" name='igst' step="any" id="igst" placeholder=0 value="{{sale.IGST}}"
                              class="form-control"/>
                          </div>
                          <div class="col-sm-4 m-0 p-0"></div>
                      </div>
                      <div class="row container-fluid p-2 m-0" style="display: none;" id="cgst1">
                          <div class="col-sm-4 mt-2"><label for="a" class="text-center">CGST</label></div>
                          <div class="col-sm-1 mt-2">:</div>
                          <div class="col-sm-7 mt-2"><input type="number" name='cgst' step="any" id="cgst" placeholder=0  value="{{sale.CGST}}"
                              class="form-control"/>
                          </div>
                          <div class="col-sm-4 m-0 p-0"></div>
                      </div>
                      <div class="row container-fluid p-2 m-0" style="display: none;" id="sgst1">
                          <div class="col-sm-4 mt-2"><label for="a" class="text-center">SGST</label></div>
                          <div class="col-sm-1 mt-2">:</div>
                          <div class="col-sm-7 mt-2"><input type="number" name='sgst' step="any" id="sgst" placeholder=0 value="{{sale.SGST}}" 
                              class="form-control"/>
                          </div>
                          <div class="col-sm-4 m-0 p-0"></div>
                      </div>
                      <div class="row container-fluid p-2 m-0">
                          <div class="col-sm-4 mt-2"><label for="a" class="text-center">Tax Amount</label></div>
                          <div class="col-sm-1 mt-2">:</div>
                          <div class="col-sm-7 mt-2"><input type="number" step="any" name='taxamount' value="{{sale.taxamount}}" id="tax_amount" placeholder='0.00' 
                              class="form-control"/>
                          </div>
                          <div class="col-sm-4 m-0 p-0"></div>

                      </div>
                      
                      <div class="row container-fluid p-2 m-0">
                          <div class="col-sm-4 mt-2"><label for="a" class="text-center">Shipping Charge</label></div>
                          <div class="col-sm-1 mt-2">:</div>
                          <div class="col-sm-7 mt-2"><input type="number" step="any" value="{{sale.shipping_charge}}" name='ship' id="ship" placeholder='0.00'  value=0
                              class="form-control"/>
                          </div>
                          <div class="col-sm-4 m-0 p-0"></div>
                      </div>
                      <div class="row container-fluid p-2 m-0">
                          <div class="col-sm-4 mt-2"><label for="a" class="text-center">Adjustment</label></div>
                          <div class="col-sm-1 mt-2">:</div>
                          <div class="col-sm-7 mt-2"><input type="number" step="any" name='adj' id="adj" placeholder='0.00' 
                              class="form-control"/>
                          </div>
                          <div class="col-sm-4 m-0 p-0"></div>
                      </div>
                      <div class="row container-fluid p-2 m-0">
                          <div class="col-sm-4 mt-2"><label for="a" class="text-center">Grand Total</label></div>
                          <div class="col-sm-1 mt-2">:</div>
                          <div class="col-sm-7 mt-2"><input type="number" name='grandtotal' value="{{sale.salestotal}}" id="grandtotal" placeholder='0.00' readonly
                              class="form-control"/>
                          </div>
                          <div class="col-sm-4 m-0 p-0"></div>
                      </div>
                  </div>
                  
              </div>
        
        </div>


        
          <div class="row">
            <div class="col-md-10 mt-3"></div>
            <div class="col-md-2 mt-3">
              <button type="submit" class="btn btn-outline-info rounded-pill w-100 text-grey pull-left">
                Save To Draft
              </button>
            </div>
          </div>
          <div class="notices mt-3">
            <div class="text-muted">NOTICE:</div>
            <div class="text-muted">
              Fin sYs Terms and Conditions Apply
            </div>
          </div>
          <footer class="text-muted">Invoice was created on a computer and is valid without the
            signature and seal.
          </footer>
        </div>
      </div>
    </div>
  </div>
</form>

<!--   modal -->

    <div class="modal fade" id="customercreation">
      <div class="modal-dialog modal-xl">
          <div class="modal-content" style="background-color: #213b52;">
              <div class="modal-header">
                  <h3 class="m-3">ADD CUSTOMER</h3>
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                      <span aria-hidden="true">&times;</span>
                  </button>
              </div>
          <div class="modal-body">

              <form action="" method="POST" id="modalCustomer"> 

                  <div class="row">
                      <div class="col-md-4 mt-3">
                          <label for="validationCustom01">Title</label>
                          <select name="title" id="title" class="form-control" >
                              <option value="Mr">Mr</option>
                              <option value="Mrs">Mrs</option>
                              <option value="Miss">Miss</option>
                              <option value="Ms">Ms</option>
                          </select>
                          <div class="valid-feedback">Looks good!</div>
                      </div>
                      <div class="col-md-4 mt-3">
                          <label for="validationCustom02">First name</label>
                          <input type="text" class="form-control" id="firstname" name="firstname" 
                                 required style="background-color: #2f516f;color: white;">
                          <div class="valid-feedback">Looks good!</div>
                      </div>
                      <div class="col-md-4 mt-3">
                          <label for="validationCustom02">Last name</label>
                          <input type="text" class="form-control" id="lastname" name="lastname"
                                 required style="background-color: #2f516f;color: white;">
                          <div class="valid-feedback">Looks good!</div>
                      </div>
                  </div>
                  <div class="row">
                      <div class="col-md-4 mt-3">
                          <label for="validationCustom03">Company</label>
                          <input type="text" class="form-control" id="company" name="company"
                                 required style="background-color: #2f516f;color: white;">
                          <div class="valid-feedback">Looks good!</div>
                      </div>
                      <div class="col-md-4 mt-3">
                          <label for="validationCustom03">Location</label>
                          <input type="text" class="form-control" id="location" name="location"
                                 required style="background-color: #2f516f;color: white;">
                          <div class="valid-feedback">Looks good!</div>
                      </div>
                      <div class="col-md-4 mt-3"></div>
                  </div>
                  <div class="row">
                    <div class="col-md-4 mt-3">
                        <label for="gsttype">GST type</label>
                        <select class="custom-select" id="gsttype" name="gsttype"
                                onclick="hidinput('hello1',this)   "
                                
                                required
                                style="background-color: #243e54; color: white;">
                                <option selected disabled value="">Select GST Type</option>
                                <option value="Registered Business - Regular">Registered Business - Regular <span><i>(Business that is registered under gst)</i></span></option>
                                <option value="Registered Business - Composition">Registered Business - Composition (Business that is registered under composition scheme in gst)</option>
                                <option value="unregistered Business">Unregistered Business (Business that has not been registered under gst)</option>
                                <option value="Overseas">Overseas (Import/Export of supply outside india)</option>
                                <option value="Consumer">Consumer</option>
                                <option value="Special Economic Zone (SEZ)">Special Economic Zone (SEZ) (Business that is located in a special economic zone of india or a SEZ developer)</option>
                                <option value="Demed Exports">Demed Exports (Supply of woods to an exports oriented unit or againsed advanced authorization or export promotion capital woods)</option>
                                <option value="Tax Deductor">Tax Deductor (State of central gov,government agencies or local authority)</option>
                                <option value="SEZ Developer">SEZ Developer (A person or organization who owns atleast 26% eqaulity in creating business units in special economic zone)</option>

                        </select>
                        <div class="invalid-feedback">Please select a valid registration type.</div>
                    </div>

                    <div class="col-md-4 mt-3 gstrow" id="hello1" style="display: none;">
                        <div >
                            <label for="gstin">GSTIN</label>
                            <input type="text" class="form-control" onchange="showMessage(this)"
                                   id="gstin" name="gstin"
                                   style="background-color: #2f516f;color: white;"
                                   value=""
                                   placeholder="29APPCK7465F1Z1">
                                   <a data-toggle="modal" href="#exampleModal"
                            style="color:#3dd5f3">Get Taxpayer Details</a>
                            <div class="text-danger m-2" id="warngst"></div>
                        </div>
                    </div>

                      
                      <!-- <div class="col-md-4 mt-3" id="hai">
                          <div >
                              <label for="validationCustom05">BUSINESS LEGAL NAME</label>
                              <input type="text" class="form-control" 
                                     
                                     style="background-color: #2f516f;color: white;"
                                     >
                              <div class="text-danger m-2" id="warngst"></div>
                          </div>
                      </div>

                      <div class="col-md-4 mt-3" id="hai1">
                          <div >
                              <label for="validationCustom05">BUSINESS TRADE NAME</label>
                              <input type="text" class="form-control" 
                                     
                                     style="background-color: #2f516f;color: white;"
                                     >
                              <div class="text-danger m-2" id="warngst"></div>
                          </div>
                      </div> -->
                      
                  

                      <div class="col-md-4 mt-3">
                          <label for="validationCustom03">PAN NO</label>
                          <input type="text" class="form-control" id="panno" name="panno"
                                 required style="background-color: #2f516f;color: white;"
                                 onchange="checkpan(this)" placeholder="APPCK7465F">
                          <div class="text-danger m-2" id="warnpan"></div>
                      </div>

                      <!-- <div class="col-md-4 mt-3" id="hai1">
                          <div >
                              <label for="validationCustom05">PLACE OF SUPPLY</label>
                              <input type="text" class="form-control" 
                                     
                                     style="background-color: #2f516f;color: white;"
                                     >
                              <div class="text-danger m-2" id="warngst"></div>
                          </div>
                      </div>

                      <div class="col-md-4 mt-3" id="hai1">
                          <div >
                              <label for="validationCustom05">TAX PERFERENCE</label>
                              <input type="text" class="form-control" 
                                     
                                     style="background-color: #2f516f;color: white;">
                              <div class="text-danger m-2" id="warngst"></div>
                          </div>
                      </div>
                      <div class="col-md-4 mt-3" >
                          <div>
                              <label for="validationCustom05">TAX RETURNS</label><br>
                              <input type="radio" name="Returns" 
                                     
                                     style="background-color: #2f516f;color: white;"> Taxable
                                     <input type="radio" name="Returns"  
                                     style="background-color: #2f516f;color: white;"> Non Taxable
                              <div class="text-danger m-2" id="warngst"></div>
                          </div>
                      </div> -->
                  </div>

                  

                  

                  <div class="row">
                      <div class="col-md-4 mt-3">
                          <label for="validationCustom03">Email</label>
                          <input type="email" class="form-control" id="email" name="email"
                                 required style="background-color: #2f516f;color: white;"
                                 placeholder="finsys@mail.com">
                          <div class="invalid-feedback">Please provide a valid Email</div>
                      </div>
                      <div class="col-md-4 mt-3">
                          <label for="validationCustom03">Website</label>
                          <input type="text" class="form-control" id="website"
                                 placeholder="www.finsys.com" onchange="checkweb(this)" name="website"
                                 style="background-color: #2f516f;color: white;">
                          <div id="warnweb" class="text-danger"></div>
                      </div>
                      <div class="col-md-4 mt-3">
                          <label for="validationCustom01">Mobile</label>
                          <input type="text" class="form-control" id="mobile"
                                 onchange="checkphone(this)" name="mobile"
                                 required style="background-color: #2f516f;color: white;">
                          <div class="text-danger m-2" id="warnphone"></div>
                      </div>
                  </div>
                  <hr>
                  <div class="row">
                      <div class="col-md-6 mt-5">
                          <div class="row">
                              <div class="col-md-12 card-title">
                                  <h5 class="mb-0">Billing Address</h5>
                              </div>
                          </div>
                          <div class="row">
                              <div class="col-md-12 mt-3">
                                  <div class="form-row">
                                      <label for="street">Street</label>
                                      <textarea class="form-control street" id="street" name="street"
                                                required
                                                style="background-color: #2f516f;color: white;"></textarea>
                                      <div class="invalid-feedback">Please provide a valid Street</div>
                                  </div>
                              </div>
                          </div>
                          <div class="row">
                              <div class="col-md-6 mt-3">
                                  <div class="form-row">
                                      <label for="city">City</label>
                                      <input type="text" class="form-control" id="city"
                                             name="city"
                                             required
                                             style="background-color: #2f516f;color: white;" placeholder="City">
                                      <div class="invalid-feedback">Please provide a valid City</div>
                                  </div>
                              </div>
                              <div class="col-md-6 mt-3">
                                  <div class="form-row">
                                      <label for="state">State</label>
                                      <select type="text" class="form-control" id="state" name="state"
                                              style="background-color: #2f516f; color: white;">
                                          <option value="" disabled selected>Choose</option>
                                          <option value="Andaman and Nicobar Islads">Andaman and Nicobar Islads
                                          </option>
                                          <option value="Andhra Predhesh">Andhra Predhesh</option>
                                          <option value="Arunachal Predesh">Arunachal Predesh</option>
                                          <option value="Assam">Assam</option>
                                          <option value="Bihar">Bihar</option>
                                          <option value="Chandigarh">Chandigarh</option>
                                          <option value="Chhattisgarh">Chhattisgarh</option>
                                          <option value="Dadra and Nagar Haveli">Dadra and Nagar Haveli</option>
                                          <option value="Damn anad Diu">Damn anad Diu</option>
                                          <option value="Delhi">Delhi</option>
                                          <option value="Goa">Goa</option>
                                          <option value="Gujarat">Gujarat</option>
                                          <option value="Haryana">Haryana</option>
                                          <option value="Himachal Predesh">Himachal Predesh</option>
                                          <option value="Jammu and Kashmir">Jammu and Kashmir</option>
                                          <option value="Jharkhand">Jharkhand</option>
                                          <option value="Karnataka">Karnataka</option>
                                          <option value="Kerala">Kerala</option>
                                          <option value="Ladakh">Ladakh</option>
                                          <option value="Lakshadweep">Lakshadweep</option>
                                          <option value="Madhya Predesh">Madhya Predesh</option>
                                          <option value="Maharashtra">Maharashtra</option>
                                          <option value="Manipur">Manipur</option>
                                          <option value="Meghalaya">Meghalaya</option>
                                          <option value="Mizoram">Mizoram</option>
                                          <option value="Nagaland">Nagaland</option>
                                          <option value="Odisha">Odisha</option>
                                          <option value="Puducherry">Puducherry</option>
                                          <option value="Punjab">Punjab</option>
                                          <option value="Rajasthan">Rajasthan</option>
                                          <option value="Sikkim">Sikkim</option>
                                          <option value="Tamil Nadu">Tamil Nadu</option>
                                          <option value="Telangana">Telangana</option>
                                          <option value="Tripura">Tripura</option>
                                          <option value="Uttar Predesh">Uttar Predesh</option>
                                          <option value="Uttarakhand">Uttarakhand</option>
                                          <option value="West Bengal">West Bengal</option>
                                          <option value="Other Territory">Other Territory</option>
                                      </select>
                                      <div class="invalid-feedback">Please provide a valid State</div>
                                  </div>
                              </div>
                          </div>
                          <div class="row">
                              <div class="col-md-6 mt-3">
                                  <div class="form-row">
                                      <label for="pinco">Pin Code</label>
                                      <input type="text" class="form-control" id="pincode"
                                             name="pincode"
                                             required style="background-color: #2f516f;color: white;"
                                             placeholder="PIN code">
                                      <div class="invalid-feedback">Please provide a valid Pin Code</div>
                                  </div>
                              </div>
                              <div class="col-md-6 mt-3">
                                  <div class="form-row">
                                      <label for="country">Country</label>
                                      <input type="text" class="form-control" id="country"
                                             name="country"
                                             required style="background-color: #2f516f;color: white;"
                                             placeholder="Country">
                                      <div class="invalid-feedback">Please provide a valid Country</div>
                                  </div>
                              </div>
                          </div>
                      </div>
                      <div class="col-md-6 mt-5">
                          <div class="row">
                              <div class="col-md-12 d-flex">
                                  <h5>Shipping Address</h5>
                                  <input class="ml-4 mt-2 ml-2" type="checkbox" onclick="poppins()" id="okay"
                                         name="okay">
                                  <label class="ml-2 mt-1 ml-2" for="okay">Same As Billing Address</label>
                              </div>
                          </div>
                          <div class="row">
                              <div class="col-md-12 mt-3">
                                  <div class="form-row">
                                      <label for="shipstreet">Street</label>
                                      <textarea class="form-control" id="shipstreet"
                                                name="shipstreet"
                                                required
                                                style="background-color: #2f516f;color: white;"></textarea>
                                      <div class="invalid-feedback">Please provide a valid Street</div>
                                  </div>
                              </div>
                          </div>
                          <div class="row">
                              <div class="col-md-6 mt-3">
                                  <div class="form-row">
                                      <label for="shipcity">City</label>
                                      <input type="text" class="form-control" id="shipcity"
                                             name="shipcity"
                                             required
                                             style="background-color: #2f516f;color: white;" placeholder="City">
                                      <div class="invalid-feedback">Please provide a valid City</div>
                                  </div>
                              </div>
                              <div class="col-md-6 mt-3">
                                  <div class="form-row">
                                      <label for="shipstate">State</label>
                                      <select type="text" class="form-control" id="shipstate" name="shipstate"
                                              style="background-color: #2f516f; color: white;">
                                          <option id="shipst" selected>Choose</option>
                                          <option value="Andaman and Nicobar Islads">Andaman and Nicobar Islads
                                          </option>
                                          <option value="Andhra Predhesh">Andhra Predhesh</option>
                                          <option value="Arunachal Predesh">Arunachal Predesh</option>
                                          <option value="Assam">Assam</option>
                                          <option value="Bihar">Bihar</option>
                                          <option value="Chandigarh">Chandigarh</option>
                                          <option value="Chhattisgarh">Chhattisgarh</option>
                                          <option value="Dadra and Nagar Haveli">Dadra and Nagar Haveli</option>
                                          <option value="Damn anad Diu">Damn anad Diu</option>
                                          <option value="Delhi">Delhi</option>
                                          <option value="Goa">Goa</option>
                                          <option value="Gujarat">Gujarat</option>
                                          <option value="Haryana">Haryana</option>
                                          <option value="Himachal Predesh">Himachal Predesh</option>
                                          <option value="Jammu and Kashmir">Jammu and Kashmir</option>
                                          <option value="Jharkhand">Jharkhand</option>
                                          <option value="Karnataka">Karnataka</option>
                                          <option value="Kerala">Kerala</option>
                                          <option value="Ladakh">Ladakh</option>
                                          <option value="Lakshadweep">Lakshadweep</option>
                                          <option value="Madhya Predesh">Madhya Predesh</option>
                                          <option value="Maharashtra">Maharashtra</option>
                                          <option value="Manipur">Manipur</option>
                                          <option value="Meghalaya">Meghalaya</option>
                                          <option value="Mizoram">Mizoram</option>
                                          <option value="Nagaland">Nagaland</option>
                                          <option value="Odisha">Odisha</option>
                                          <option value="Puducherry">Puducherry</option>
                                          <option value="Punjab">Punjab</option>
                                          <option value="Rajasthan">Rajasthan</option>
                                          <option value="Sikkim">Sikkim</option>
                                          <option value="Tamil Nadu">Tamil Nadu</option>
                                          <option value="Telangana">Telangana</option>
                                          <option value="Tripura">Tripura</option>
                                          <option value="Uttar Predesh">Uttar Predesh</option>
                                          <option value="Uttarakhand">Uttarakhand</option>
                                          <option value="West Bengal">West Bengal</option>
                                          <option value="Other Territory">Other Territory</option>
                                      </select>
                                      <div class="invalid-feedback">Please provide a valid State</div>
                                  </div>
                              </div>
                          </div>
                          <div class="row">
                              <div class="col-md-6 mt-3">
                                  <div class="form-row">
                                      <label for="shippinco">Pin Code</label>
                                      <input type="text" class="form-control" id="shippincode"
                                             name="shippincode"
                                             required style="background-color: #2f516f;color: white;"
                                             placeholder="PIN code">
                                      <div class="invalid-feedback">Please provide a valid Pin Code</div>
                                  </div>
                              </div>
                              <div class="col-md-6 mt-3">
                                  <div class="form-row">
                                      <label for="shipcountry">Country</label>
                                      <input type="text" class="form-control" id="shipcountry"
                                             name="shipcountry"
                                             required style="background-color: #2f516f;color: white;"
                                             placeholder="Country">
                                      <div class="invalid-feedback">Please provide a valid Country</div>
                                  </div>
                              </div>
                          </div>
                      </div>
                  </div>
                  <div class="row mt-3">
                      <div class="col">
                          <div class="form-check">
                              <input class="form-check-input" type="checkbox" value="" id="invalidCheck" required
                                     style="background-color: #2f516f;">
                              <label>Agree to terms and conditions</label>
                              <div class="invalid-feedback">You must agree before submitting.</div>
                          </div>
                      </div>
                  </div>
                  <div class="row">
                      <div class="col-md-4"></div>
                      <div class="col-md-4">
                          <button class="btn btn-outline-info rounded-pill text-grey w-100 mt-3 mb-3"
                                  type="submit" id="customerSave">
                              Submit form
                          </button>
                      </div>
                      <div class="col-md-4"></div>
                  </div>

              </form>


            
          </div>
          
        </div>
      </div>


      
    </div>
    <div class="modal fade" id="newitem">
      <div class="modal-dialog modal-xl">
          <div class="modal-content" style="background-color: #213b52;">
              <div class="modal-header">
                  <h3 class="m-3">New Item</h3>
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                      <span aria-hidden="true">&times;</span>
                  </button>
              </div>
              <div class="modal-body">
                  <div class="card p-3 m-3">
                      <form action="" method="post"  autocomplete="off" id="modalItem">
  
                          <div class="row">
                              <div class="col-md-12">
                                  <div class="row">
                                      <div class="col-md-12 mx-0">
                                          <div class="row">
                                          <div class="col-md-6 mt-3">
                                              <label for="item_name"
                                                     style="color: white;">Name</label>
                                              <input type="text" name="name" class="form-control" id="item_name"
                                                        style="background-color: #2a4964; color: white;"
                                                       autocomplete="off" required>
                                          </div>
                                          <div class="col-md-6 mt-3">
                                              <label for="type"
                                                     style="color: white;">Type</label>
                                              <select name="type" class="form-control"  id="type"
                                                        style="background-color: #2a4964; color: white;"
                                                        required>
                                                        <option selected disabled value="">Choose...</option>
                                                      <option value="goods">Goods</option>
                                                  <option value="services">Services</option></select>
                                          </div>
                                      </div>
                                      <div class="row">
                                          <div class="col-md-12">
                                              <div class="row">
                                                  <div class="col-md-12 mx-0">
                                                      <div class="row">
                                                          <div class="col-md-6 mt-3">
                                                              <label for="unit" style="color: white;">Unit
                                                                  </label>
                                                              <div class="d-flex">
                                                                  <select class="custom-select" name="unit" id="unit"
                                                                          required
                                                                          style="background-color: #2a4964; color: white;">
                                                                          <option selected disabled value="">Choose...</option>
                                                                          {% for a in unit %}
                                                                          <option style="text-transform:Uppercase;">{{ a.unit_symbol}}-{{ a.name }}</option>
                                                                          {% endfor %}
                                                                          <option>BAG-BAGS</option>
                                                                          <option>BAL-BALE</option>
                                                                          <option>BDL-BUNDLES</option>
                                                                          <option>BKL-BUCKLES</option>
                                                                          <option>BOX-BOX</option>
                                                                          <option>BOU-BILLIONS OF UNITS</option>
                                                                          <option>BTL-BOTTLES</option>
                                                                          <option>BUN-BUNCHES</option>
                                                                          <option>CAN-CANS</option>
                                                                          <option>CBM-CUBIC METER</option>
                                                                          <option>CMS-CENTIMETER</option>
                                                                          <option>CCM-CUBIC CENTIMETER</option>
                                                                          <option>CTN-CARTONS</option>
                                                                          <option>DOZ-DOZEN</option>
                                                                          <option>DRM-DRUM</option>
                                                                          <option>GGR-GREAT GROSS</option>
                                                                          <option>GMS-GRAMS</option>
                                                                          <option>GRS-GROSS</option>
                                                                          <option>GYD-GROSS YARDS</option>
                                                                          <option>KGS-KILOGRAMS</option>
                                                                          <option>KLR-KILOLITER</option>
                                                                          <option>KME-KILOMETRE</option>
                                                                          <option>MTS Metric ton</option>
                                                                          <option>MLT-MILLILITRE</option>
                                                                          <option>MTR-METERS</option>
                                                                          <option>NOS-NUMBER</option>
                                                                          <option>PAC-PACKS</option>
                                                                          <option>PCS-PIECES</option>
                                                                          <option>PRS-PAIRS</option>
                                                                          <option>QTL-QUINTAL</option>
                                                                          <option>ROL-ROLLS</option>
                                                                          <option>SQF-SQUARE FEET</option>
                                                                          <option>SET-SETS</option>
                                                                          <option>SQM-SQUARE METERS</option>
                                                                          <option>SQY-SQUARE YARDS</option>
                                                                          <option>TBS-TABLETS</option>
                                                                          <option>TGM-TEN GROSS</option>
                                                                          <option>THD-THOUSANDS</option>
                                                                          <option>TON-TONNES</option>
                                                                          <option>TUB-TUBES</option>
                                                                          <option>UGS-US GALLONS</option>
                                                                          <option>UNT-UNITS</option>
                                                                          <option>YDS-YARDS</option>
                                          
                                                                     
                                                                  </select>
                                                                  <!-- <a href="{% url 'add_unit' %}">
                                                                      <button type="button"
                                                                              class="btn btn-outline-secondary ml-1">+
                                                                      </button>
                                                                  </a> -->
                                                              </div>
                                                          </div>
                                                          <div class="col-md-6 mt-3">
                                                              <label for="hsn" style="color: white;">HSN
                                                                  Code</label>
                                                          <input type="text" name="hsn" class="form-control" id="hsn"
                                                                     style="background-color: #2a4964; color: white;"
                                                                    
                                                                     placeholder="Enter a valid HSN code" required>
                                                            
                                                          </div>
                                                         
                                                      </div>
                                                      <div class="row">
                                                          <div class="col-md-6 mt-3">
                                                             
                                                          </div>
                                                         
                                                      </div>
                                                      
                                      <div class="row">
                                          <div class="col-md-3 mt-3">
                                              <label for="validationCustom05" name style="color: white;">Tax Reference
                                                  </label>
                                           
                                          </div>
                                          <div class="col-md-3">
                                              <div class="form-check mt-1">
                                                 
                                                      <input class="form-check-input" name="taxref" type="checkbox" id="inclusive"
                                                           value="taxable" checked >Taxable
                                                      <label style="color: white;">
                                                          </label>
                                                
                                              </div>
                                          </div>
                                          <div class="form-check mt-1">
                                              <input class="form-check-input" name="taxref" type="checkbox"
                                                     value="non taxable" 
                                                     id="check">
                                              <label style="color: white;">Non Taxable</label>
                                          </div>
                                      </div>
                                  </div>
                                  </div>
                                      <div class="row">
                                          <div class="col-md-6 mt-3">
                                              <label for="validationCustom01"
                                                     style="color: white;">Purchase Price</label>
                                                  <div class="row">
                                                     <div >
                                                     <input type="text" class="form-control" value="INR"
                                                      style="margin-left:20px;width:60px;background-color: #2a4960; color: white;"></div>
                                                     <div >
                                                     <input type="number" name="pcost" class="form-control" 
                                                     id="purprice" style="width:540px;background-color: #2a4964; color: white; width:200%"
                                                     value="0"
                                                     >
                                                     </div>
                                                  </div>
  
                                          </div>
                                          <div class="col-md-6 mt-3">
                                              <label for="validationCustom01"
                                                     style="color: white;">Sales Price</label>
                                                     <div class="row">
                                                      <div >
                                                          <input type="text" class="form-control" value="INR"
                                                           style="margin-left:20px;width:60px;background-color: #2a4960; color: white;"></div>
                                                          <div >
                                                      <div >
                                                     <input type="text" name="salesprice" class="form-control"
                                                     id="saleprice" style="width:540px;background-color: #2a4964; color: white; width:200%"
                                                     value="0"
                                                     >
                                                      </div>
                                                  </div>
  
                                          </div>
                                      </div>
                                  </div>
                                  <div class="row">
                                      <div class="col-md-12 mx-0">
                                          <div class="row">
                                              <div class="col-md-6 mt-3">
                                                  <label for="validationCustom01"
                                                         style="color: white;">Account</label>
                                                         <select name="pur_account" class="form-control" 
                                                         style="background-color: #2a4964; color: white;"
                                                         id="pur_account" >
                                                         <option >Cost of Goods Sold</option>
                                                         {% for a in acc %}
                                                         <option value="goods">{{ a.name }}</option>
                                                         {% endfor %}</select>
                                              </div>
                                              <div class="col-md-6 mt-3">
                                                  <label for="validationCustom01"
                                                         style="color: white;">Account</label>
                                                  <select name="sale_account" class="form-control" 
                                                            style="background-color: #2a4964; color: white;"
                                                            id="sale_account" >
                                                            <option >Sales</option>
                                                         {% for a in acc1 %}
                                                         <option value="goods">{{ a.name }}</option>
                                                         {% endfor %}</select>
                                              </div>
                                          </div>
                                          <div class="row">
                                              <div class="col-md-12 mx-0">
                                                  <div class="row">
                                                      <div class="col-md-6 mt-3">
                                                          <label for="validationCustom01"
                                                                 style="color: white;">Description</label>
                                                                 <textarea class="form-control" name="pur_desc"
                                                                 id="pur_desc" 
                                                                 style="background-color: #2a4964; color: white;"
                                                                 ></textarea>  
                                                      </div>
                                                      <div class="col-md-6 mt-3">
                                                          <label for="validationCustom01"
                                                                 style="color: white;">Description</label>
                                                                 <textarea class="form-control" name="sale_desc"
                                                                 id="sale_desc"
                                                                 style="background-color: #2a4964; color: white;"
                                                                 ></textarea>
                                                      </div>
                                                  </div>
                                       
                                      
                                      <div class="row">
                                          <div class="col-md-12 mx-0">
                                              <div class="row">
                                                  <div class="col-md-6 mt-3">
                                                      <label for="validationCustom01"
                                                             style="color: white;">Intra State Tax Rate</label>
                                                             <select name="intra_st" class="form-control" 
                                                             style="background-color: #2a4964; color: white;"
                                                             id="intra_st" >
                                                             <option >Choose...</option>
                                                             <option value=0>GST 0 (0%)</option>
                                                             <option value=5>GST 5 (5%)</option>
                                                             <option value=12>GST 12 (12%)</option>
                                                             <option value=18>GST 18 (18%)</option>
                                                             <option value=28>GST 28 (28%)</option>
                                                             <option value=0>Out of Scope(0%)</option>
                                                  </select>
                                                  </div>
                                              
                                                  <div class="col-md-6 mt-3">
                                                      <label for="inter_st"
                                                             style="color: white;">Inter State Tax Rate</label>
                                                      <select name="inter_st" class="form-control" 
                                                                style="background-color: #2a4964; color: white;"
                                                                id="inter_st" >
                                                                <option >Choose...</option>
                                                                <option value=0>IGST 0 (0%)</option>
                                                             <option value=5>IGST 5 (5%)</option>
                                                             <option value=12>IGST 12 (12%)</option>
                                                             <option value=18>IGST 18 (18%)</option>
                                                             <option value=28>IGST 28 (28%)</option>
                                                             <option value=0>Out of Scope(0%)</option>
                                                  </select>
                                                  </div>
                                              </div><br>
                                              <div class="row" >
                                                 
                                                 
                                    
                                                  <div class="col-md-3">
                                                      <div class="form-check">
                                                          <input class="form-check-input" onclick="ShowHideDiv(this)" type="checkbox"  id="track">
                                                          <label class="form-check-label" for="track" >
                                                            Track Inventory
                                                          </label>
                                                        </div>
                                                       
                                                  </div>
                                              
                                              </div>
  
                                              <div class="row" id="inventorytrack" style="display: none">
                                                  <div class="col-md-6 mt-3">
                                                      <label for="validationCustom01"
                                                             style="color: white;">Inventory Account</label>
                                                             <select name="invacc" class="form-control" id="invacc"
                                                                style="background-color: #2a4964; color: white;"
                                                                >
                                                             <option selected disabled value="" >Choose...</option>
                                                             <option value="Inventory Assets">Inventory Assets</option>
                                                         
                                                  </select>
                                                  </div>
                                                  <div class="col-md-6 mt-3">
                                                      <label for="validationCustom01"
                                                             style="color: white;">Stock on hand</label>
                                                             <input type="number" name="stock" class="form-control" id="stock"
                                                             style="width:540px;background-color: #2a4964; color: white;"
                                                             value="0"
                                                             >
                                                  </div>
                                              </div>
                                             
  
                                          
                             
                                              <div class="row">
                                                  <div class="col-md-6 mt-3">
                                                     
                                                  </div>
                                                 
                                              </div>
                                              <div class="row">
                                                  <div class="col-md-3 mt-3">
                                                      <label for="validationCustom05" name style="color: white;">Active/Inactive
                                                          </label>
                                                   
                                                  </div>
                                                  <div class="col-md-3">
                                                      <div class="form-check">
                                                          <input class="form-check-input" value="Active" type="radio" name="status" id="flexRadioDefault1" checked>
                                                          <label class="form-check-label" for="flexRadioDefault1">
                                                            Active
                                                          </label>
                                                        </div>
                                                       
                                                  </div>
                                                  <div class="form-check">
                                                      <input class="form-check-input" value="Inactive" type="radio" name="status" id="flexRadioDefault2" >
                                                      <label class="form-check-label" for="flexRadioDefault2">
                                                        Inactive
                                                      </label>
                                                    </div>
                                              </div>
                                          </div>
                                          </div>
                                     
                                      <div class="row mt-5 mb-5">
                                          <div class="col-md-4">
                                              <a href="{% url 'goitem' %}"class="btn btn-outline-info rounded-pill w-25 text-light">BACK</a>                                   </div>
                                          <div class="col-md-4">
                                              <button class="btn btn-outline-info rounded-pill w-100 text-light" data-dismiss="modal" type="submit" id="itemSave">SUBMIT</button>
                                          </div>
                                          <div class="col-md-4"></div>
                                      </div>
                                  </div>
                              </div>
                          </div>
                      </div>
                  </form>
                </div>
            </div>
        </div>
    </div> 
  </div> 

<script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>


<!-- <script>
  function state(element) {
      
      if (element.value == 'Kerala' ) {
          document.getElementById('CGST').style.display = 'block';
          document.getElementById('SGST').style.display = 'block';
          document.getElementById('IGST').style.display = 'none';
          
          
      } else {
          document.getElementById('CGST').style.display = 'none';
          document.getElementById('SGST').style.display = 'none';
          document.getElementById('IGST').style.display = 'block';
      }
  }
</script>


<script> 
//   $(document).ready(function() {
//     var balandue = document.getElementById('baldue').value;
//     if (balandue == '0.0') {
//       document.getElementById('paid').innerHTML = 'PAID';
//     } else {
//       document.getElementById('paid').innerHTML = ' '
//     }
//     select = $('#product').val();
//     $.ajax({
//       type: "GET",
//       url: "{% url 'getitems' %}",
//       data: {
//         id: select
//       }
//     }).done(function(response) {
//       var json_data = JSON.parse(response);
//       for (key in json_data) {
//         document.getElementById('hsn1').value = json_data[key]['hsn'];
//         document.getElementById('description').value = json_data[key]['description'];
//         if (json_data[key]['initialqty'] == '' || json_data[key]['initialqty'] == undefined) {
//           document.getElementById('qtyspan').innerHTML = '';
//         } else {
//           document.getElementById('qtyspan').innerHTML = 'Available Quantity : ' + json_data[key]['initialqty'];
//         }
//         if (json_data[key]['item'] == 'bundle') {
//           document.getElementById('unit1').value = 0;
//           document.getElementById('unit1').style.display = 'none';
//           document.getElementById('tax1').style.display = 'none';
//           document.getElementById('total1').style.display = 'none';
//         } else {
//           document.getElementById('unit1').value = json_data[key]['salesprice'];
//           var place = document.getElementById('plosu').value;
//           if (place == '{{ cmp1.state }}') {
//             document.getElementById('unit1').style.display = 'block';
//             document.getElementById('tax1').style.display = 'block';
//             document.getElementById('total1').style.display = 'block';
//             document.getElementById('ta1').value = json_data[key]['tax'];
//             document.getElementById('ta1').innerHTML = json_data[key]['tax'] + ' % GST';
//           } else if (place != '{{ cmp1.state }}') {
//             document.getElementById('unit1').style.display = 'block';
//             document.getElementById('tax1').style.display = 'block';
//             document.getElementById('total1').style.display = 'block';
//             document.getElementById('ta5').value = json_data[key]['tax'];
//             document.getElementById('ta5').innerHTML = json_data[key]['tax'] + ' % IGST';
//           }
//         }
//         if (json_data[key]['qty1'] == undefined || json_data[key]['qty1'] == 0) {
//           document.getElementById('bun1').style.display = 'none';
//         } else {
//           document.getElementById('bun1').style.display = 'table-row';
//           document.getElementById('product11').value = json_data[key]['product1'];
//           document.getElementById('hsn11').value = json_data[key]['hsn1'];
//           document.getElementById('description11').value = json_data[key]['description1'];
//           document.getElementById('qty111').value = json_data[key]['qty1'];
//           document.getElementById('qty11').value = json_data[key]['qty1'] * parseInt('{{ invoice.qty }}');
//           document.getElementById('creqty11').value = json_data[key]['qty1'] * parseInt('{{ invoice.qty }}');
//           document.getElementById('unit11').value = json_data[key]['price1'];
//           document.getElementById('total11').value = json_data[key]['price1'] * parseFloat(document.getElementById('qty11').value);
//           document.getElementById('ototal11').value = json_data[key]['price1'] * parseFloat(document.getElementById('qty11').value);
//           document.getElementById('tax11').value = json_data[key]['tax1'];
//           document.getElementById('otax11').value = json_data[key]['tax1'];
//         }
//         if (json_data[key]['qty2'] == undefined || json_data[key]['qty2'] == 0) {
//           document.getElementById('bun2').style.display = 'none';
//         } else {
//           document.getElementById('bun2').style.display = 'table-row';
//           document.getElementById('product12').value = json_data[key]['product2'];
//           document.getElementById('hsn12').value = json_data[key]['hsn2'];
//           document.getElementById('description12').value = json_data[key]['description2'];
//           document.getElementById('qty12').value = json_data[key]['qty2'] * parseInt('{{ invoice.qty }}');
//           document.getElementById('creqty12').value = json_data[key]['qty2'] * parseInt('{{ invoice.qty }}');
//           document.getElementById('qty121').value = json_data[key]['qty2'];
//           document.getElementById('unit12').value = json_data[key]['price2'];
//           console.log('{{ invoice.qty }}', typeof '{{ invoice.qty }}')
//           document.getElementById('total12').value = json_data[key]['price2'] * parseInt(document.getElementById('qty12').value);
//           document.getElementById('ototal12').value = json_data[key]['price2'] * parseInt(document.getElementById('qty12').value);
//           document.getElementById('tax12').value = json_data[key]['tax2'];
//           document.getElementById('otax12').value = json_data[key]['tax2'];
//         }
//         if (json_data[key]['qty3'] == undefined || json_data[key]['qty3'] == 0) {
//           document.getElementById('bun3').style.display = 'none';
//         } else {
//           document.getElementById('bun3').style.display = 'table-row';
//           document.getElementById('product13').value = json_data[key]['product3'];
//           document.getElementById('hsn13').value = json_data[key]['hsn3'];
//           document.getElementById('description13').value = json_data[key]['description3'];
//           document.getElementById('qty13').value = json_data[key]['qty3'] * parseInt('{{ invoice.qty }}');
//           document.getElementById('creqty13').value = json_data[key]['qty3'] * parseInt('{{ invoice.qty }}');
//           document.getElementById('qty131').value = json_data[key]['qty3'];
//           document.getElementById('unit13').value = json_data[key]['price3'];
//           document.getElementById('total13').value = json_data[key]['price3'] * parseInt(document.getElementById('qty13').value);
//           document.getElementById('ototal13').value = json_data[key]['price3'] * parseInt(document.getElementById('qty13').value);
//           document.getElementById('tax13').value = json_data[key]['tax3'];
//           document.getElementById('otax13').value = json_data[key]['tax3'];
//         }
//         if (json_data[key]['qty4'] == undefined || json_data[key]['qty4'] == 0) {
//           document.getElementById('bun4').style.display = 'none';
//         } else {
//           document.getElementById('bun4').style.display = 'table-row';
//           document.getElementById('product14').value = json_data[key]['product4'];
//           document.getElementById('hsn14').value = json_data[key]['hsn4'];
//           document.getElementById('description14').value = json_data[key]['description4'];
//           document.getElementById('qty14').value = json_data[key]['qty4'] * parseInt('{{ invoice.qty }}');
//           document.getElementById('creqty14').value = json_data[key]['qty4'] * parseInt('{{ invoice.qty }}');
//           document.getElementById('qty141').value = json_data[key]['qty4'];
//           document.getElementById('unit14').value = json_data[key]['price4'];
//           document.getElementById('total14').value = json_data[key]['price4'] * parseInt(document.getElementById('qty14').value);
//           document.getElementById('ototal14').value = json_data[key]['price4'] * parseInt(document.getElementById('qty14').value);
//           document.getElementById('tax14').value = json_data[key]['tax4'];
//           document.getElementById('otax14').value = json_data[key]['tax4'];
//         }
//       }
//     });
//     select = $('#product2').val();
//     $.ajax({
//       type: "GET",
//       url: "{% url 'getitems' %}",
//       data: {
//         id: select
//       }
//     }).done(function(response) {
//       var json_data = JSON.parse(response);
//       for (key in json_data) {
//         document.getElementById('hsn2').value = json_data[key]['hsn'];
//         document.getElementById('description2').value = json_data[key]['description'];
//         if (json_data[key]['initialqty'] == '' || json_data[key]['initialqty'] == undefined) {
//           document.getElementById('qtyspan1').innerHTML = '';
//         } else {
//           document.getElementById('qtyspan1').innerHTML = 'Available Quantity : ' + json_data[key]['initialqty'];
//         }
//         if (json_data[key]['item'] == 'bundle') {
//           document.getElementById('unit2').value = 0;
//           document.getElementById('unit2').style.display = 'none';
//           document.getElementById('tax2').style.display = 'none';
//           document.getElementById('total2').style.display = 'none';
//         } else {
//           document.getElementById('unit2').value = json_data[key]['salesprice'];
//           var place = document.getElementById('plosu').value;
//           if (place == '{{ cmp1.state }}') {
//             document.getElementById('unit2').style.display = 'block';
//             document.getElementById('tax2').style.display = 'block';
//             document.getElementById('total2').style.display = 'block';
//             document.getElementById('ta2').value = json_data[key]['tax'];
//             document.getElementById('ta2').innerHTML = json_data[key]['tax'] + ' % GST';
//           } else if (place != '{{ cmp1.state }}') {
//             document.getElementById('unit2').style.display = 'block';
//             document.getElementById('tax2').style.display = 'block';
//             document.getElementById('total2').style.display = 'block';
//             document.getElementById('ta6').value = json_data[key]['tax'];
//             document.getElementById('ta6').innerHTML = json_data[key]['tax'] + ' % IGST';
//           }
//         }
//         if (json_data[key]['qty1'] == undefined || json_data[key]['qty1'] == 0) {
//           document.getElementById('bun5').style.display = 'none';
//         } else {
//           document.getElementById('bun5').style.display = 'table-row';
//           document.getElementById('product21').value = json_data[key]['product1'];
//           document.getElementById('hsn21').value = json_data[key]['hsn1'];
//           document.getElementById('description21').value = json_data[key]['description1'];
//           document.getElementById('qty21').value = json_data[key]['qty1'] * parseInt('{{ invoice.qty2 }}');
//           document.getElementById('creqty21').value = json_data[key]['qty1'] * parseInt('{{ invoice.qty2 }}');
//           document.getElementById('qty211').value = json_data[key]['qty1'];
//           document.getElementById('unit21').value = json_data[key]['price1'];
//           document.getElementById('total21').value = json_data[key]['price1'] * parseInt(document.getElementById('qty21').value);
//           document.getElementById('ototal21').value = json_data[key]['price1'] * parseInt(document.getElementById('qty21').value);
//           document.getElementById('tax21').value = json_data[key]['tax1'];
//           document.getElementById('otax21').value = json_data[key]['tax1'];
//         }
//         if (json_data[key]['qty2'] == undefined || json_data[key]['qty2'] == 0) {
//           document.getElementById('bun6').style.display = 'none';
//         } else {
//           document.getElementById('bun6').style.display = 'table-row';
//           document.getElementById('product22').value = json_data[key]['product2'];
//           document.getElementById('hsn22').value = json_data[key]['hsn2'];
//           document.getElementById('description22').value = json_data[key]['description2'];
//           document.getElementById('qty22').value = json_data[key]['qty2'] * parseInt('{{ invoice.qty2 }}');
//           document.getElementById('creqty22').value = json_data[key]['qty2'] * parseInt('{{ invoice.qty2 }}');
//           document.getElementById('qty221').value = json_data[key]['qty2'];
//           document.getElementById('unit22').value = json_data[key]['price2'];
//           document.getElementById('total22').value = json_data[key]['price2'] * parseInt(document.getElementById('qty22').value);
//           document.getElementById('ototal22').value = json_data[key]['price2'] * parseInt(document.getElementById('qty22').value);
//           document.getElementById('tax22').value = json_data[key]['tax2'];
//           document.getElementById('otax22').value = json_data[key]['tax2'];
//         }
//         if (json_data[key]['qty3'] == undefined || json_data[key]['qty3'] == 0) {
//           document.getElementById('bun7').style.display = 'none';
//         } else {
//           document.getElementById('bun7').style.display = 'table-row';
//           document.getElementById('product23').value = json_data[key]['product3'];
//           document.getElementById('hsn23').value = json_data[key]['hsn3'];
//           document.getElementById('description23').value = json_data[key]['description3'];
//           document.getElementById('qty23').value = json_data[key]['qty3'] * parseInt('{{ invoice.qty2 }}');
//           document.getElementById('creqty23').value = json_data[key]['qty3'] * parseInt('{{ invoice.qty2 }}');
//           document.getElementById('qty231').value = json_data[key]['qty3'];
//           document.getElementById('unit23').value = json_data[key]['price3'];
//           document.getElementById('total23').value = json_data[key]['price3'] * parseInt(document.getElementById('qty23').value);
//           document.getElementById('ototal23').value = json_data[key]['price3'] * parseInt(document.getElementById('qty23').value);
//           document.getElementById('tax23').value = json_data[key]['tax3'];
//           document.getElementById('otax23').value = json_data[key]['tax3'];
//         }
//         if (json_data[key]['qty4'] == undefined || json_data[key]['qty4'] == 0) {
//           document.getElementById('bun8').style.display = 'none';
//         } else {
//           document.getElementById('bun8').style.display = 'table-row';
//           document.getElementById('product24').value = json_data[key]['product4'];
//           document.getElementById('hsn24').value = json_data[key]['hsn4'];
//           document.getElementById('description24').value = json_data[key]['description4'];
//           document.getElementById('qty24').value = json_data[key]['qty4'] * parseInt('{{ invoice.qty2 }}');
//           document.getElementById('creqty24').value = json_data[key]['qty4'] * parseInt('{{ invoice.qty2 }}');
//           document.getElementById('qty241').value = json_data[key]['qty4'];
//           document.getElementById('unit24').value = json_data[key]['price4'];
//           document.getElementById('total24').value = json_data[key]['price4'] * parseInt(document.getElementById('qty24').value);
//           document.getElementById('ototal24').value = json_data[key]['price4'] * parseInt(document.getElementById('qty24').value);
//           document.getElementById('tax24').value = json_data[key]['tax4'];
//           document.getElementById('otax24').value = json_data[key]['tax4'];
//         }
//       }
//     });
//     select = $('#product3').val();
//     $.ajax({
//       type: "GET",
//       url: "{% url 'getitems' %}",
//       data: {
//         id: select
//       }
//     }).done(function(response) {
//       var json_data = JSON.parse(response);
//       for (key in json_data) {
//         document.getElementById('hsn3').value = json_data[key]['hsn'];
//         document.getElementById('description3').value = json_data[key]['description'];
//         if (json_data[key]['initialqty'] == '' || json_data[key]['initialqty'] == undefined) {
//           document.getElementById('qtyspan2').innerHTML = '';
//         } else {
//           document.getElementById('qtyspan2').innerHTML = 'Available Quantity : ' + json_data[key]['initialqty'];
//         }
//         if (json_data[key]['item'] == 'bundle') {
//           document.getElementById('unit3').value = 0;
//           document.getElementById('unit3').style.display = 'none';
//           document.getElementById('tax3').style.display = 'none';
//           document.getElementById('total3').style.display = 'none';
//         } else {
//           document.getElementById('unit3').value = json_data[key]['salesprice'];
//           var place = document.getElementById('plosu').value;
//           if (place == '{{ cmp1.state }}') {
//             document.getElementById('unit3').style.display = 'block';
//             document.getElementById('tax3').style.display = 'block';
//             document.getElementById('total3').style.display = 'block';
//             document.getElementById('ta3').value = json_data[key]['tax'];
//             document.getElementById('ta3').innerHTML = json_data[key]['tax'] + ' % GST';
//           } else if (place != '{{ cmp1.state }}') {
//             document.getElementById('unit3').style.display = 'block';
//             document.getElementById('tax3').style.display = 'block';
//             document.getElementById('total3').style.display = 'block';
//             document.getElementById('ta7').value = json_data[key]['tax'];
//             document.getElementById('ta7').innerHTML = json_data[key]['tax'] + ' % IGST';
//           }
//         }
//         if (json_data[key]['qty1'] == undefined || json_data[key]['qty1'] == 0) {
//           document.getElementById('bun9').style.display = 'none';
//         } else {
//           document.getElementById('bun9').style.display = 'table-row';
//           document.getElementById('product31').value = json_data[key]['product1'];
//           document.getElementById('hsn31').value = json_data[key]['hsn1'];
//           document.getElementById('description31').value = json_data[key]['description1'];
//           document.getElementById('qty31').value = json_data[key]['qty1'] * parseInt('{{ invoice.qty3 }}');
//           document.getElementById('creqty31').value = json_data[key]['qty1'] * parseInt('{{ invoice.qty3 }}');
//           document.getElementById('qty311').value = json_data[key]['qty1'];
//           document.getElementById('unit31').value = json_data[key]['price1'];
//           document.getElementById('total31').value = json_data[key]['price1'] * parseInt(document.getElementById('qty31').value);
//           document.getElementById('ototal31').value = json_data[key]['price1'] * parseInt(document.getElementById('qty31').value);
//           document.getElementById('tax31').value = json_data[key]['tax1'];
//           document.getElementById('otax31').value = json_data[key]['tax1'];
//         }
//         if (json_data[key]['qty2'] == undefined || json_data[key]['qty2'] == 0) {
//           document.getElementById('bun10').style.display = 'none';
//         } else {
//           document.getElementById('bun10').style.display = 'table-row';
//           document.getElementById('product32').value = json_data[key]['product2'];
//           document.getElementById('hsn32').value = json_data[key]['hsn2'];
//           document.getElementById('description32').value = json_data[key]['description2'];
//           document.getElementById('qty32').value = json_data[key]['qty2'] * parseInt('{{ invoice.qty3 }}');
//           document.getElementById('creqty32').value = json_data[key]['qty2'] * parseInt('{{ invoice.qty3 }}');
//           document.getElementById('qty321').value = json_data[key]['qty2'];
//           document.getElementById('unit32').value = json_data[key]['price2'];
//           document.getElementById('total32').value = json_data[key]['price2'] * parseInt(document.getElementById('qty32').value);
//           document.getElementById('ototal32').value = json_data[key]['price2'] * parseInt(document.getElementById('qty32').value);
//           document.getElementById('tax32').value = json_data[key]['tax2'];
//           document.getElementById('otax32').value = json_data[key]['tax2'];
//         }
//         if (json_data[key]['qty3'] == undefined || json_data[key]['qty3'] == 0) {
//           document.getElementById('bun11').style.display = 'none';
//         } else {
//           document.getElementById('bun11').style.display = 'table-row';
//           document.getElementById('product33').value = json_data[key]['product3'];
//           document.getElementById('hsn33').value = json_data[key]['hsn3'];
//           document.getElementById('description33').value = json_data[key]['description3'];
//           document.getElementById('qty33').value = json_data[key]['qty3'] * parseInt('{{ invoice.qty3 }}');
//           document.getElementById('creqty33').value = json_data[key]['qty3'] * parseInt('{{ invoice.qty3 }}');
//           document.getElementById('qty331').value = json_data[key]['qty3'];
//           document.getElementById('unit33').value = json_data[key]['price3'];
//           document.getElementById('total33').value = json_data[key]['price3'] * parseInt(document.getElementById('qty33').value);
//           document.getElementById('ototal33').value = json_data[key]['price3'] * parseInt(document.getElementById('qty33').value);
//           document.getElementById('tax33').value = json_data[key]['tax3'];
//           document.getElementById('otax33').value = json_data[key]['tax3'];
//         }
//         if (json_data[key]['qty4'] == undefined || json_data[key]['qty4'] == 0) {
//           document.getElementById('bun12').style.display = 'none';
//         } else {
//           document.getElementById('bun12').style.display = 'table-row';
//           document.getElementById('product34').value = json_data[key]['product4'];
//           document.getElementById('hsn34').value = json_data[key]['hsn4'];
//           document.getElementById('description34').value = json_data[key]['description4'];
//           document.getElementById('qty34').value = json_data[key]['qty4'] * parseInt('{{ invoice.qty3 }}');
//           document.getElementById('creqty34').value = json_data[key]['qty4'] * parseInt('{{ invoice.qty3 }}');
//           document.getElementById('qty341').value = json_data[key]['qty4'];
//           document.getElementById('unit34').value = json_data[key]['price4'];
//           document.getElementById('total34').value = json_data[key]['price4'] * parseInt(document.getElementById('qty34').value);
//           document.getElementById('ototal34').value = json_data[key]['price4'] * parseInt(document.getElementById('qty34').value);
//           document.getElementById('tax34').value = json_data[key]['tax4'];
//           document.getElementById('otax34').value = json_data[key]['tax4'];
//         }
//       }
//     })
//     select = $('#product4').val();
//     $.ajax({
//       type: "GET",
//       url: "{% url 'getitems' %}",
//       data: {
//         id: select
//       }
//     }).done(function(response) {
//       var json_data = JSON.parse(response);
//       for (key in json_data) {
//         document.getElementById('hsn4').value = json_data[key]['hsn'];
//         document.getElementById('description4').value = json_data[key]['description'];
//         if (json_data[key]['initialqty'] == '' || json_data[key]['initialqty'] == undefined) {
//           document.getElementById('qtyspan3').innerHTML = '';
//         } else {
//           document.getElementById('qtyspan3').innerHTML = 'Available Quantity : ' + json_data[key]['initialqty'];
//         }
//         if (json_data[key]['item'] == 'bundle') {
//           document.getElementById('unit4').value = 0;
//           document.getElementById('unit4').style.display = 'none';
//           document.getElementById('tax4').style.display = 'none';
//           document.getElementById('total4').style.display = 'none';
//         } else {
//           document.getElementById('unit4').value = json_data[key]['salesprice'];
//           var place = document.getElementById('plosu').value;
//           if (place == '{{ cmp1.state }}') {
//             document.getElementById('unit4').style.display = 'block';
//             document.getElementById('tax4').style.display = 'block';
//             document.getElementById('total4').style.display = 'block';
//             document.getElementById('ta4').value = json_data[key]['tax'];
//             document.getElementById('ta4').innerHTML = json_data[key]['tax'] + ' % GST';
//           } else if (place != '{{ cmp1.state }}') {
//             document.getElementById('unit4').style.display = 'block';
//             document.getElementById('tax4').style.display = 'block';
//             document.getElementById('total4').style.display = 'block';
//             document.getElementById('ta8').value = json_data[key]['tax'];
//             document.getElementById('ta8').innerHTML = json_data[key]['tax'] + ' % IGST';
//           }
//         }
//         if (json_data[key]['qty1'] == undefined || json_data[key]['qty1'] == 0) {
//           document.getElementById('bun13').style.display = 'none';
//         } else {
//           document.getElementById('bun13').style.display = 'table-row';
//           document.getElementById('product41').value = json_data[key]['product1'];
//           document.getElementById('hsn41').value = json_data[key]['hsn1'];
//           document.getElementById('description41').value = json_data[key]['description1'];
//           document.getElementById('qty41').value = json_data[key]['qty1'] * parseInt('{{ invoice.qty4 }}');
//           document.getElementById('creqty41').value = json_data[key]['qty1'] * parseInt('{{ invoice.qty4 }}');
//           document.getElementById('qty411').value = json_data[key]['qty1'];
//           document.getElementById('unit41').value = json_data[key]['price1'];
//           document.getElementById('total41').value = json_data[key]['price1'] * parseInt(document.getElementById('qty41').value);
//           document.getElementById('ototal41').value = json_data[key]['price1'] * parseInt(document.getElementById('qty41').value);
//           document.getElementById('tax41').value = json_data[key]['tax1'];
//           document.getElementById('otax41').value = json_data[key]['tax1'];
//         }
//         if (json_data[key]['qty2'] == undefined || json_data[key]['qty2'] == 0) {
//           document.getElementById('bun14').style.display = 'none';
//         } else {
//           document.getElementById('bun14').style.display = 'table-row';
//           document.getElementById('product42').value = json_data[key]['product2'];
//           document.getElementById('hsn42').value = json_data[key]['hsn2'];
//           document.getElementById('description42').value = json_data[key]['description2'];
//           document.getElementById('qty42').value = json_data[key]['qty2'] * parseInt('{{ invoice.qty4 }}');
//           document.getElementById('creqty42').value = json_data[key]['qty2'] * parseInt('{{ invoice.qty4 }}');
//           document.getElementById('qty421').value = json_data[key]['qty2'];
//           document.getElementById('unit42').value = json_data[key]['price2'];
//           document.getElementById('total42').value = json_data[key]['price2'] * parseInt(document.getElementById('qty42').value);
//           document.getElementById('ototal42').value = json_data[key]['price2'] * parseInt(document.getElementById('qty42').value);
//           document.getElementById('tax42').value = json_data[key]['tax2'];
//           document.getElementById('otax42').value = json_data[key]['tax2'];
//         }
//         if (json_data[key]['qty3'] == undefined || json_data[key]['qty3'] == 0) {
//           document.getElementById('bun15').style.display = 'none';
//         } else {
//           document.getElementById('bun15').style.display = 'table-row';
//           document.getElementById('product43').value = json_data[key]['product3'];
//           document.getElementById('hsn43').value = json_data[key]['hsn3'];
//           document.getElementById('description43').value = json_data[key]['description3'];
//           document.getElementById('qty43').value = json_data[key]['qty3'] * parseInt('{{ invoice.qty4 }}');
//           document.getElementById('creqty43').value = json_data[key]['qty3'] * parseInt('{{ invoice.qty4 }}');
//           document.getElementById('qty431').value = json_data[key]['qty3'];
//           document.getElementById('unit43').value = json_data[key]['price3'];
//           document.getElementById('total43').value = json_data[key]['price3'] * parseInt(document.getElementById('qty43').value);
//           document.getElementById('ototal43').value = json_data[key]['price3'] * parseInt(document.getElementById('qty43').value);
//           document.getElementById('tax43').value = json_data[key]['tax3'];
//           document.getElementById('otax43').value = json_data[key]['tax3'];
//         }
//         if (json_data[key]['qty4'] == undefined || json_data[key]['qty4'] == 0) {
//           document.getElementById('bun16').style.display = 'none';
//         } else {
//           document.getElementById('bun16').style.display = 'table-row';
//           document.getElementById('product44').value = json_data[key]['product4'];
//           document.getElementById('hsn44').value = json_data[key]['hsn4'];
//           document.getElementById('description44').value = json_data[key]['description4'];
//           document.getElementById('qty44').value = json_data[key]['qty4'] * parseInt('{{ invoice.qty4 }}');
//           document.getElementById('creqty44').value = json_data[key]['qty4'] * parseInt('{{ invoice.qty4 }}');
//           document.getElementById('qty441').value = json_data[key]['qty4'];
//           document.getElementById('unit44').value = json_data[key]['price4'];
//           document.getElementById('total44').value = json_data[key]['price4'] * parseInt(document.getElementById('qty44').value);
//           document.getElementById('ototal44').value = json_data[key]['price4'] * parseInt(document.getElementById('qty44').value);
//           document.getElementById('tax44').value = json_data[key]['tax4'];
//           document.getElementById('otax44').value = json_data[key]['tax4'];
//         }
//       }
//     });
//   });

//   function showinp(divId, element) {
//     if (element.value == 'Add New Term') {
//       document.getElementById(divId).style.display = 'block';
//     } else {
//       document.getElementById(divId).style.display = 'none';
//     }
//   }

//   function showinnum(divId, element) {
//     if (element.value) {
//       document.getElementById(divId).innerHTML = "INVOICE NO. " + element.value;
//     } else {
//       document.getElementById(divId).innerHTML = "INVOICE NO. ";
//     }
//   }

//   function addtemopt(element) {
//     var opt = document.getElementById('trmopt');

//     if (element.value) {
//       opt.value = element.value;
//       opt.innerHTML = element.value;
//     } else {
//       pass
//     }
//   }

//   function qtychange1(element) {
//     var tx = parseInt(element.value);
//     document.getElementById('qty11').value = parseInt(document.getElementById('qty111').value) * tx;
//     document.getElementById('qty12').value = parseInt(document.getElementById('qty121').value) * tx;
//     document.getElementById('qty13').value = parseInt(document.getElementById('qty131').value) * tx;
//     document.getElementById('qty14').value = parseInt(document.getElementById('qty141').value) * tx;
//   }

//   function qtychange2(element) {
//     var tx = parseInt(element.value);
//     document.getElementById('qty21').value = parseInt(document.getElementById('qty211').value) * tx;
//     document.getElementById('qty22').value = parseInt(document.getElementById('qty221').value) * tx;
//     document.getElementById('qty23').value = parseInt(document.getElementById('qty231').value) * tx;
//     document.getElementById('qty24').value = parseInt(document.getElementById('qty241').value) * tx;
//   }

//   function qtychange3(element) {
//     var tx = parseInt(element.value);
//     document.getElementById('qty31').value = parseInt(document.getElementById('qty311').value) * tx;
//     document.getElementById('qty32').value = parseInt(document.getElementById('qty321').value) * tx;
//     document.getElementById('qty33').value = parseInt(document.getElementById('qty331').value) * tx;
//     document.getElementById('qty34').value = parseInt(document.getElementById('qty341').value) * tx;
//   }

//   function qtychange4(element) {
//     var tx = parseInt(element.value);
//     document.getElementById('qty41').value = parseInt(document.getElementById('qty411').value) * tx;
//     document.getElementById('qty42').value = parseInt(document.getElementById('qty421').value) * tx;
//     document.getElementById('qty43').value = parseInt(document.getElementById('qty431').value) * tx;
//     document.getElementById('qty44').value = parseInt(document.getElementById('qty441').value) * tx;
//   }

//   $('#product').on('change', function() {
//     select = $('#product').val();
//     $.ajax({
//       type: "GET",
//       url: "{% url 'getitems' %}",
//       data: {
//         id: select
//       }
//     }).done(function(response) {
//       var json_data = JSON.parse(response);
//       for (key in json_data) {
//         document.getElementById('hsn1').value = json_data[key]['hsn'];
//         document.getElementById('description').value = json_data[key]['description'];
//         document.getElementById('qty1').value = 0;
//         if (json_data[key]['initialqty'] == '' || json_data[key]['initialqty'] == undefined) {
//           document.getElementById('qtyspan').innerHTML = '';
//         } else {
//           document.getElementById('qtyspan').innerHTML = 'Available Quantity : ' + json_data[key]['initialqty'];
//         }
//         if (json_data[key]['item'] == 'bundle') {
//           document.getElementById('unit1').value = 0;
//           document.getElementById('unit1').style.display = 'none';
//           document.getElementById('tax1').style.display = 'none';
//           document.getElementById('total1').style.display = 'none';
//           if (json_data[key]['qty1'] == undefined || json_data[key]['qty1'] == 0) {
//             document.getElementById('bun1').style.display = 'none';
//           } else {
//             document.getElementById('bun1').style.display = 'table-row';
//             document.getElementById('product11').value = json_data[key]['product1'];
//             document.getElementById('hsn11').value = json_data[key]['hsn1'];
//             document.getElementById('description11').value = json_data[key]['description1'];
//             document.getElementById('qty11').value = json_data[key]['qty1'];
//             document.getElementById('qty111').value = json_data[key]['qty1'];
//             document.getElementById('unit11').value = json_data[key]['price1'];
//             document.getElementById('total11').value = json_data[key]['total1'];
//             document.getElementById('tax11').value = json_data[key]['tax1'];
//           }
//           if (json_data[key]['qty2'] == undefined || json_data[key]['qty2'] == 0) {
//             document.getElementById('bun2').style.display = 'none';
//           } else {
//             document.getElementById('bun2').style.display = 'table-row';
//             document.getElementById('product12').value = json_data[key]['product2'];
//             document.getElementById('hsn12').value = json_data[key]['hsn2'];
//             document.getElementById('description12').value = json_data[key]['description2'];
//             document.getElementById('qty12').value = json_data[key]['qty2'];
//             document.getElementById('qty121').value = json_data[key]['qty2'];
//             document.getElementById('unit12').value = json_data[key]['price2'];
//             document.getElementById('total12').value = json_data[key]['total2'];
//             document.getElementById('tax12').value = json_data[key]['tax2'];
//           }
//           if (json_data[key]['qty3'] == undefined || json_data[key]['qty3'] == 0) {
//             document.getElementById('bun3').style.display = 'none';
//           } else {
//             document.getElementById('bun3').style.display = 'table-row';
//             document.getElementById('product13').value = json_data[key]['product3'];
//             document.getElementById('hsn13').value = json_data[key]['hsn3'];
//             document.getElementById('description13').value = json_data[key]['description3'];
//             document.getElementById('qty13').value = json_data[key]['qty3'];
//             document.getElementById('qty131').value = json_data[key]['qty3'];
//             document.getElementById('unit13').value = json_data[key]['price3'];
//             document.getElementById('total13').value = json_data[key]['total3'];
//             document.getElementById('tax13').value = json_data[key]['tax3'];
//           }
//           if (json_data[key]['qty4'] == undefined || json_data[key]['qty4'] == 0) {
//             document.getElementById('bun4').style.display = 'none';
//           } else {
//             document.getElementById('bun4').style.display = 'table-row';
//             document.getElementById('product14').value = json_data[key]['product4'];
//             document.getElementById('hsn14').value = json_data[key]['hsn4'];
//             document.getElementById('description14').value = json_data[key]['description4'];
//             document.getElementById('qty14').value = json_data[key]['qty4'];
//             document.getElementById('qty141').value = json_data[key]['qty4'];
//             document.getElementById('unit14').value = json_data[key]['price4'];
//             document.getElementById('total14').value = json_data[key]['total4'];
//             document.getElementById('tax14').value = json_data[key]['tax4'];
//           }
//         } else {
//           document.getElementById('unit1').value = json_data[key]['salesprice'];
//           var place = document.getElementById('plosu').value;
//           if (place == '{{ cmp1.state }}') {
//             document.getElementById('unit1').style.display = 'block';
//             document.getElementById('tax1').style.display = 'block';
//             document.getElementById('total1').style.display = 'block';
//             document.getElementById('ta1').value = json_data[key]['tax'];
//             document.getElementById('ta1').innerHTML = json_data[key]['tax'] + ' % GST';
//           } else if (place != '{{ cmp1.state }}') {
//             document.getElementById('unit1').style.display = 'block';
//             document.getElementById('tax1').style.display = 'block';
//             document.getElementById('total1').style.display = 'block';
//             document.getElementById('ta5').value = json_data[key]['tax'];
//             document.getElementById('ta5').innerHTML = json_data[key]['tax'] + ' % IGST';
//           }
//           document.getElementById('bun1').style.display = 'none';
//           document.getElementById('product11').value = '';
//           document.getElementById('hsn11').value = '';
//           document.getElementById('description11').value = '';
//           document.getElementById('qty11').value = 0;
//           document.getElementById('qty111').value = 0;
//           document.getElementById('unit11').value = 0;
//           document.getElementById('total11').value = 0;
//           document.getElementById('tax11').value = 0;

//           document.getElementById('bun2').style.display = 'none';
//           document.getElementById('product12').value = '';
//           document.getElementById('hsn12').value = '';
//           document.getElementById('description12').value = '';
//           document.getElementById('qty12').value = 0;
//           document.getElementById('qty121').value = 0;
//           document.getElementById('unit12').value = 0;
//           document.getElementById('total12').value = 0;
//           document.getElementById('tax12').value = 0;

//           document.getElementById('bun3').style.display = 'none';
//           document.getElementById('product13').value = '';
//           document.getElementById('hsn13').value = '';
//           document.getElementById('description13').value = '';
//           document.getElementById('qty13').value = 0;
//           document.getElementById('qty131').value = 0;
//           document.getElementById('unit13').value = 0;
//           document.getElementById('total13').value = 0;
//           document.getElementById('tax13').value = 0;

//           document.getElementById('bun4').style.display = 'none';
//           document.getElementById('product14').value = '';
//           document.getElementById('hsn14').value = '';
//           document.getElementById('description14').value = '';
//           document.getElementById('qty14').value = 0;
//           document.getElementById('qty141').value = 0;
//           document.getElementById('unit14').value = 0;
//           document.getElementById('total14').value = 0;
//           document.getElementById('tax14').value = 0;
//         }
//       }
//     });
//   });
//   $('#product2').on('change', function() {
//     select = $('#product2').val();
//     $.ajax({
//       type: "GET",
//       url: "{% url 'getitems' %}",
//       data: {
//         id: select
//       }
//     }).done(function(response) {
//       var json_data = JSON.parse(response);
//       for (key in json_data) {
//         document.getElementById('hsn2').value = json_data[key]['hsn'];
//         document.getElementById('description2').value = json_data[key]['description'];
//         document.getElementById('qty2').value = 0;
//         if (json_data[key]['initialqty'] == '' || json_data[key]['initialqty'] == undefined) {
//           document.getElementById('qtyspan1').innerHTML = '';
//         } else {
//           document.getElementById('qtyspan1').innerHTML = 'Available Quantity : ' + json_data[key]['initialqty'];
//         }
//         if (json_data[key]['item'] == 'bundle') {
//           document.getElementById('unit2').value = 0;
//           document.getElementById('unit2').style.display = 'none';
//           document.getElementById('tax2').style.display = 'none';
//           document.getElementById('total2').style.display = 'none';
//           if (json_data[key]['qty1'] == undefined || json_data[key]['qty1'] == 0) {
//             document.getElementById('bun5').style.display = 'none';
//           } else {
//             document.getElementById('bun5').style.display = 'table-row';
//             document.getElementById('product21').value = json_data[key]['product1'];
//             document.getElementById('hsn21').value = json_data[key]['hsn1'];
//             document.getElementById('description21').value = json_data[key]['description1'];
//             document.getElementById('qty21').value = json_data[key]['qty1'];
//             document.getElementById('qty211').value = json_data[key]['qty1'];
//             document.getElementById('unit21').value = json_data[key]['price1'];
//             document.getElementById('total21').value = json_data[key]['total1'];
//             document.getElementById('tax21').value = json_data[key]['tax1'];
//           }
//           if (json_data[key]['qty2'] == undefined || json_data[key]['qty2'] == 0) {
//             document.getElementById('bun6').style.display = 'none';
//           } else {
//             document.getElementById('bun6').style.display = 'table-row';
//             document.getElementById('product22').value = json_data[key]['product2'];
//             document.getElementById('hsn22').value = json_data[key]['hsn2'];
//             document.getElementById('description22').value = json_data[key]['description2'];
//             document.getElementById('qty22').value = json_data[key]['qty2'];
//             document.getElementById('qty221').value = json_data[key]['qty2'];
//             document.getElementById('unit22').value = json_data[key]['price2'];
//             document.getElementById('total22').value = json_data[key]['total2'];
//             document.getElementById('tax22').value = json_data[key]['tax2'];
//           }
//           if (json_data[key]['qty3'] == undefined || json_data[key]['qty3'] == 0) {
//             document.getElementById('bun7').style.display = 'none';
//           } else {
//             document.getElementById('bun7').style.display = 'table-row';
//             document.getElementById('product23').value = json_data[key]['product3'];
//             document.getElementById('hsn23').value = json_data[key]['hsn3'];
//             document.getElementById('description23').value = json_data[key]['description3'];
//             document.getElementById('qty23').value = json_data[key]['qty3'];
//             document.getElementById('qty231').value = json_data[key]['qty3'];
//             document.getElementById('unit23').value = json_data[key]['price3'];
//             document.getElementById('total23').value = json_data[key]['total3'];
//             document.getElementById('tax23').value = json_data[key]['tax3'];
//           }
//           if (json_data[key]['qty4'] == undefined || json_data[key]['qty4'] == 0) {
//             document.getElementById('bun8').style.display = 'none';
//           } else {
//             document.getElementById('bun8').style.display = 'table-row';
//             document.getElementById('product24').value = json_data[key]['product4'];
//             document.getElementById('hsn24').value = json_data[key]['hsn4'];
//             document.getElementById('description24').value = json_data[key]['description4'];
//             document.getElementById('qty24').value = json_data[key]['qty4'];
//             document.getElementById('qty241').value = json_data[key]['qty4'];
//             document.getElementById('unit24').value = json_data[key]['price4'];
//             document.getElementById('total24').value = json_data[key]['total4'];
//             document.getElementById('tax24').value = json_data[key]['tax4'];
//           }
//         } else {
//           document.getElementById('unit2').value = json_data[key]['salesprice'];
//           var place = document.getElementById('plosu').value;
//           if (place == '{{ cmp1.state }}') {
//             document.getElementById('unit2').style.display = 'block';
//             document.getElementById('tax2').style.display = 'block';
//             document.getElementById('total2').style.display = 'block';
//             document.getElementById('ta2').value = json_data[key]['tax'];
//             document.getElementById('ta2').innerHTML = json_data[key]['tax'] + ' % GST';
//           } else if (place != '{{ cmp1.state }}') {
//             document.getElementById('unit2').style.display = 'block';
//             document.getElementById('tax2').style.display = 'block';
//             document.getElementById('total2').style.display = 'block';
//             document.getElementById('ta6').value = json_data[key]['tax'];
//             document.getElementById('ta6').innerHTML = json_data[key]['tax'] + ' % IGST';
//           }
//           document.getElementById('bun5').style.display = 'none';
//           document.getElementById('product21').value = '';
//           document.getElementById('hsn21').value = '';
//           document.getElementById('description21').value = '';
//           document.getElementById('qty21').value = 0;
//           document.getElementById('qty211').value = 0;
//           document.getElementById('unit21').value = 0;
//           document.getElementById('total21').value = 0;
//           document.getElementById('tax21').value = 0;

//           document.getElementById('bun6').style.display = 'none';
//           document.getElementById('product22').value = '';
//           document.getElementById('hsn22').value = '';
//           document.getElementById('description22').value = '';
//           document.getElementById('qty22').value = 0;
//           document.getElementById('qty221').value = 0;
//           document.getElementById('unit22').value = 0;
//           document.getElementById('total22').value = 0;
//           document.getElementById('tax22').value = 0;

//           document.getElementById('bun7').style.display = 'none';
//           document.getElementById('product23').value = '';
//           document.getElementById('hsn23').value = '';
//           document.getElementById('description23').value = '';
//           document.getElementById('qty23').value = 0;
//           document.getElementById('qty231').value = 0;
//           document.getElementById('unit23').value = 0;
//           document.getElementById('total23').value = 0;
//           document.getElementById('tax23').value = 0;

//           document.getElementById('bun8').style.display = 'none';
//           document.getElementById('product24').value = '';
//           document.getElementById('hsn24').value = '';
//           document.getElementById('description24').value = '';
//           document.getElementById('qty24').value = 0;
//           document.getElementById('qty241').value = 0;
//           document.getElementById('unit24').value = 0;
//           document.getElementById('total24').value = 0;
//           document.getElementById('tax24').value = 0;
//         }
//       }
//     });
//   });
//   $('#product3').on('change', function() {
//     select = $('#product3').val();
//     $.ajax({
//       type: "GET",
//       url: "{% url 'getitems' %}",
//       data: {
//         id: select
//       }
//     }).done(function(response) {
//       var json_data = JSON.parse(response);
//       for (key in json_data) {
//         document.getElementById('hsn3').value = json_data[key]['hsn'];
//         document.getElementById('description3').value = json_data[key]['description'];
//         document.getElementById('qty3').value = 0;
//         if (json_data[key]['initialqty'] == '' || json_data[key]['initialqty'] == undefined) {
//           document.getElementById('qtyspan2').innerHTML = '';

//         } else {
//           document.getElementById('qtyspan2').innerHTML = 'Available Quantity : ' + json_data[key]['initialqty'];
//         }
//         if (json_data[key]['item'] == 'bundle') {
//           document.getElementById('unit3').value = 0;
//           document.getElementById('unit3').style.display = 'none';
//           document.getElementById('tax3').style.display = 'none';
//           document.getElementById('total3').style.display = 'none';
//           if (json_data[key]['qty1'] == undefined || json_data[key]['qty1'] == 0) {
//             document.getElementById('bun9').style.display = 'none';
//           } else {
//             document.getElementById('bun9').style.display = 'table-row';
//             document.getElementById('product31').value = json_data[key]['product1'];
//             document.getElementById('hsn31').value = json_data[key]['hsn1'];
//             document.getElementById('description31').value = json_data[key]['description1'];
//             document.getElementById('qty31').value = json_data[key]['qty1'];
//             document.getElementById('qty311').value = json_data[key]['qty1'];
//             document.getElementById('unit31').value = json_data[key]['price1'];
//             document.getElementById('total31').value = json_data[key]['total1'];
//             document.getElementById('tax31').value = json_data[key]['tax1'];
//           }
//           if (json_data[key]['qty2'] == undefined || json_data[key]['qty2'] == 0) {
//             document.getElementById('bun10').style.display = 'none';
//           } else {
//             document.getElementById('bun10').style.display = 'table-row';
//             document.getElementById('product32').value = json_data[key]['product2'];
//             document.getElementById('hsn32').value = json_data[key]['hsn2'];
//             document.getElementById('description32').value = json_data[key]['description2'];
//             document.getElementById('qty32').value = json_data[key]['qty2'];
//             document.getElementById('qty321').value = json_data[key]['qty2'];
//             document.getElementById('unit32').value = json_data[key]['price2'];
//             document.getElementById('total32').value = json_data[key]['total2'];
//             document.getElementById('tax32').value = json_data[key]['tax2'];
//           }
//           if (json_data[key]['qty3'] == undefined || json_data[key]['qty3'] == 0) {
//             document.getElementById('bun11').style.display = 'none';
//           } else {
//             document.getElementById('bun11').style.display = 'table-row';
//             document.getElementById('product33').value = json_data[key]['product3'];
//             document.getElementById('hsn33').value = json_data[key]['hsn3'];
//             document.getElementById('description33').value = json_data[key]['description3'];
//             document.getElementById('qty33').value = json_data[key]['qty3'];
//             document.getElementById('qty331').value = json_data[key]['qty3'];
//             document.getElementById('unit33').value = json_data[key]['price3'];
//             document.getElementById('total33').value = json_data[key]['total3'];
//             document.getElementById('tax33').value = json_data[key]['tax3'];
//           }
//           if (json_data[key]['qty4'] == undefined || json_data[key]['qty4'] == 0) {
//             document.getElementById('bun12').style.display = 'none';
//           } else {
//             document.getElementById('bun12').style.display = 'table-row';
//             document.getElementById('product34').value = json_data[key]['product4'];
//             document.getElementById('hsn34').value = json_data[key]['hsn4'];
//             document.getElementById('description34').value = json_data[key]['description4'];
//             document.getElementById('qty34').value = json_data[key]['qty4'];
//             document.getElementById('qty341').value = json_data[key]['qty4'];
//             document.getElementById('unit34').value = json_data[key]['price4'];
//             document.getElementById('total34').value = json_data[key]['total4'];
//             document.getElementById('tax34').value = json_data[key]['tax4'];
//           }
//         } else {
//           document.getElementById('unit3').value = json_data[key]['salesprice'];
//           var place = document.getElementById('plosu').value;
//           if (place == '{{ cmp1.state }}') {
//             document.getElementById('unit3').style.display = 'block';
//             document.getElementById('tax3').style.display = 'block';
//             document.getElementById('total3').style.display = 'block';
//             document.getElementById('ta3').value = json_data[key]['tax'];
//             document.getElementById('ta3').innerHTML = json_data[key]['tax'] + ' % GST';
//           } else if (place != '{{ cmp1.state }}') {
//             document.getElementById('unit3').style.display = 'block';
//             document.getElementById('tax3').style.display = 'block';
//             document.getElementById('total3').style.display = 'block';
//             document.getElementById('ta7').value = json_data[key]['tax'];
//             document.getElementById('ta7').innerHTML = json_data[key]['tax'] + ' % IGST';
//           }
//           document.getElementById('bun9').style.display = 'none';
//           document.getElementById('product31').value = '';
//           document.getElementById('hsn31').value = '';
//           document.getElementById('description31').value = '';
//           document.getElementById('qty31').value = 0;
//           document.getElementById('qty311').value = 0;
//           document.getElementById('unit31').value = 0;
//           document.getElementById('total31').value = 0;
//           document.getElementById('tax31').value = 0;

//           document.getElementById('bun10').style.display = 'none';
//           document.getElementById('product32').value = '';
//           document.getElementById('hsn32').value = '';
//           document.getElementById('description32').value = '';
//           document.getElementById('qty32').value = 0;
//           document.getElementById('qty321').value = 0;
//           document.getElementById('unit32').value = 0;
//           document.getElementById('total32').value = 0;
//           document.getElementById('tax32').value = 0;

//           document.getElementById('bun11').style.display = 'none';
//           document.getElementById('product33').value = '';
//           document.getElementById('hsn33').value = '';
//           document.getElementById('description33').value = '';
//           document.getElementById('qty33').value = 0;
//           document.getElementById('qty331').value = 0;
//           document.getElementById('unit33').value = 0;
//           document.getElementById('total33').value = 0;
//           document.getElementById('tax33').value = 0;

//           document.getElementById('bun12').style.display = 'none';
//           document.getElementById('product34').value = '';
//           document.getElementById('hsn34').value = '';
//           document.getElementById('description34').value = '';
//           document.getElementById('qty34').value = 0;
//           document.getElementById('qty341').value = 0;
//           document.getElementById('unit34').value = 0;
//           document.getElementById('total34').value = 0;
//           document.getElementById('tax34').value = 0;
//         }
//       }
//     })
//   });
//   $('#product4').on('change', function() {
//     select = $('#product4').val();
//     $.ajax({
//       type: "GET",
//       url: "{% url 'getitems' %}",
//       data: {
//         id: select
//       }
//     }).done(function(response) {
//       var json_data = JSON.parse(response);
//       for (key in json_data) {
//         document.getElementById('hsn4').value = json_data[key]['hsn'];
//         document.getElementById('description4').value = json_data[key]['description'];
//         document.getElementById('qty4').value = 0;
//         if (json_data[key]['initialqty'] == '' || json_data[key]['initialqty'] == undefined) {
//           document.getElementById('qtyspan3').innerHTML = '';
//         } else {
//           document.getElementById('qtyspan3').innerHTML = 'Available Quantity : ' + json_data[key]['initialqty'];
//         }
//         if (json_data[key]['item'] == 'bundle') {
//           document.getElementById('unit4').value = 0;
//           document.getElementById('unit4').style.display = 'none';
//           document.getElementById('tax4').style.display = 'none';
//           document.getElementById('total4').style.display = 'none';
//           if (json_data[key]['qty1'] == undefined || json_data[key]['qty1'] == 0) {
//             document.getElementById('bun13').style.display = 'none';
//           } else {
//             document.getElementById('bun13').style.display = 'table-row';
//             document.getElementById('product41').value = json_data[key]['product1'];
//             document.getElementById('hsn41').value = json_data[key]['hsn1'];
//             document.getElementById('description41').value = json_data[key]['description1'];
//             document.getElementById('qty41').value = json_data[key]['qty1'];
//             document.getElementById('qty411').value = json_data[key]['qty1'];
//             document.getElementById('unit41').value = json_data[key]['price1'];
//             document.getElementById('total41').value = json_data[key]['total1'];
//             document.getElementById('tax41').value = json_data[key]['tax1'];
//           }
//           if (json_data[key]['qty2'] == undefined || json_data[key]['qty2'] == 0) {
//             document.getElementById('bun14').style.display = 'none';
//           } else {
//             document.getElementById('bun14').style.display = 'table-row';
//             document.getElementById('product42').value = json_data[key]['product2'];
//             document.getElementById('hsn42').value = json_data[key]['hsn2'];
//             document.getElementById('description42').value = json_data[key]['description2'];
//             document.getElementById('qty42').value = json_data[key]['qty2'];
//             document.getElementById('qty421').value = json_data[key]['qty2'];
//             document.getElementById('unit42').value = json_data[key]['price2'];
//             document.getElementById('total42').value = json_data[key]['total2'];
//             document.getElementById('tax42').value = json_data[key]['tax2'];
//           }
//           if (json_data[key]['qty3'] == undefined || json_data[key]['qty3'] == 0) {
//             document.getElementById('bun15').style.display = 'none';
//           } else {
//             document.getElementById('bun15').style.display = 'table-row';
//             document.getElementById('product43').value = json_data[key]['product3'];
//             document.getElementById('hsn43').value = json_data[key]['hsn3'];
//             document.getElementById('description43').value = json_data[key]['description3'];
//             document.getElementById('qty43').value = json_data[key]['qty3'];
//             document.getElementById('qty431').value = json_data[key]['qty3'];
//             document.getElementById('unit43').value = json_data[key]['price3'];
//             document.getElementById('total43').value = json_data[key]['total3'];
//             document.getElementById('tax43').value = json_data[key]['tax3'];
//           }
//           if (json_data[key]['qty4'] == undefined || json_data[key]['qty4'] == 0) {
//             document.getElementById('bun16').style.display = 'none';
//           } else {
//             document.getElementById('bun16').style.display = 'table-row';
//             document.getElementById('product44').value = json_data[key]['product4'];
//             document.getElementById('hsn44').value = json_data[key]['hsn4'];
//             document.getElementById('description44').value = json_data[key]['description4'];
//             document.getElementById('qty44').value = json_data[key]['qty4'];
//             document.getElementById('qty441').value = json_data[key]['qty4'];
//             document.getElementById('unit44').value = json_data[key]['price4'];
//             document.getElementById('total44').value = json_data[key]['total4'];
//             document.getElementById('tax44').value = json_data[key]['tax4'];
//           }
//         } else {
//           document.getElementById('unit4').value = json_data[key]['salesprice'];
//           var place = document.getElementById('plosu').value;
//           if (place == '{{ cmp1.state }}') {
//             document.getElementById('unit4').style.display = 'block';
//             document.getElementById('tax4').style.display = 'block';
//             document.getElementById('total4').style.display = 'block';
//             document.getElementById('ta4').value = json_data[key]['tax'];
//             document.getElementById('ta4').innerHTML = json_data[key]['tax'] + ' % GST';
//           } else if (place != '{{ cmp1.state }}') {
//             document.getElementById('unit4').style.display = 'block';
//             document.getElementById('tax4').style.display = 'block';
//             document.getElementById('total4').style.display = 'block';
//             document.getElementById('ta8').value = json_data[key]['tax'];
//             document.getElementById('ta8').innerHTML = json_data[key]['tax'] + ' % IGST';
//           }
//           document.getElementById('bun13').style.display = 'none';
//           document.getElementById('product41').value = '';
//           document.getElementById('hsn41').value = '';
//           document.getElementById('description41').value = '';
//           document.getElementById('qty41').value = 0;
//           document.getElementById('qty411').value = 0;
//           document.getElementById('unit41').value = 0;
//           document.getElementById('total41').value = 0;
//           document.getElementById('tax41').value = 0;

//           document.getElementById('bun14').style.display = 'none';
//           document.getElementById('product42').value = '';
//           document.getElementById('hsn42').value = '';
//           document.getElementById('description42').value = '';
//           document.getElementById('qty42').value = 0;
//           document.getElementById('qty421').value = 0;
//           document.getElementById('unit42').value = 0;
//           document.getElementById('total42').value = 0;
//           document.getElementById('tax42').value = 0;

//           document.getElementById('bun15').style.display = 'none';
//           document.getElementById('product43').value = '';
//           document.getElementById('hsn43').value = '';
//           document.getElementById('description43').value = '';
//           document.getElementById('qty43').value = 0;
//           document.getElementById('qty431').value = 0;
//           document.getElementById('unit43').value = 0;
//           document.getElementById('total43').value = 0;
//           document.getElementById('tax43').value = 0;

//           document.getElementById('bun16').style.display = 'none';
//           document.getElementById('product44').value = '';
//           document.getElementById('hsn44').value = '';
//           document.getElementById('description44').value = '';
//           document.getElementById('qty44').value = 0;
//           document.getElementById('qty441').value = 0;
//           document.getElementById('unit44').value = 0;
//           document.getElementById('total44').value = 0;
//           document.getElementById('tax44').value = 0;
//         }
//       }
//     });
//   });

//   $(document).ready(function() {
//     var $select1 = $('#plosu'),
//       $select2 = $('#tax1'),
//       $select3 = $('#tax2'),
//       $select4 = $('#tax3'),
//       $select5 = $('#tax4'),
//       $options = $select2.find('option'),
//       $options1 = $select3.find('option'),
//       $options2 = $select4.find('option'),
//       $options3 = $select5.find('option');
//     if ($options1.value == '{{ cmp1.state }}') {
//       $options1.text = "{{ cmp1.state }}"
//     }
//     $select1.on('change', function() {
//       if (this.value == "{{ cmp1.state }}") {
//         $select2.html($options.filter('[text="' + this.value + '"]'));
//         $select3.html($options1.filter('[text="' + this.value + '"]'));
//         $select4.html($options2.filter('[text="' + this.value + '"]'));
//         $select5.html($options3.filter('[text="' + this.value + '"]'));
//       } else {
//         $select2.html($options.filter('[text="' + " " + '"]'));
//         $select3.html($options1.filter('[text="' + " " + '"]'));
//         $select4.html($options2.filter('[text="' + " " + '"]'));
//         $select5.html($options3.filter('[text="' + " " + '"]'));

//       }

//     }).trigger('change');
//   });
// </script>-->
<script>
    $(document).ready(function() {
              $("#gsttype").change(function() {
              var x=$('#gsttype').val();
              if(x=="unregistered Business") 
              {
                  $(".gstrow").removeClass('d-block');
                  $(".gstrow").addClass('d-none');
  
              }
              else if(x == 'Overseas'){
                  $(".gstrow").removeClass('d-block');
                  $(".gstrow").addClass('d-none');
              }
              else if(x == 'Consumer'){
                  $(".gstrow").removeClass('d-block');
                  $(".gstrow").addClass('d-none');
              }
              else 
              {
                  $(".gstrow").removeClass('d-none');
                  $(".gstrow").addClass('d-block');
              }
              
              });
          });
  
          $(document).ready(function () {
  
              var bc = document.getElementById("plosu").value;
              var compstate = document.getElementById("cmpstate").value;
              if (bc == compstate ) {
                  document.getElementById('cgst1').style.display = 'flex';
                  document.getElementById('sgst1').style.display = 'flex';
                  document.getElementById('igst1').style.display = 'none'; 
                  $(".intra_tax").removeClass("d-none");
                  $(".intra_tax").addClass("d-flex");
  
                  $(".inter_tax").removeClass("d-flex");
                  $(".inter_tax").addClass("d-none");
  
              } else {
                  document.getElementById('cgst1').style.display = 'none';
                  document.getElementById('sgst1').style.display = 'none';
                  document.getElementById('igst1').style.display = 'flex';
  
                  $(".inter_tax").removeClass("d-none");
                  $(".inter_tax").addClass("d-flex");
  
                  $(".intra_tax").removeClass("d-flex");
                  $(".intra_tax").addClass("d-none");
              }
  
              var table = document.getElementById("items-table-body");
              var roinc = table.rows.length;
                  
              for(i = 1; i<=roinc;i++){
                  console.log($('#product'+i).val());
                  $.ajax({
                  url: "{% url 'itemdata' %}",
                  type : 'GET',
                  data:{
                      id : $('#product'+i).val(),
                      csrfmiddlewaretoken: '{{ csrf_token }}'
                      },
                  
                  success: function(response) {
                      data2 = response.qty
                
  
                      console.log(data2)
                      
                      $('#qtyspan'+i).text(data2);
                  },
                  });
              }
            
          });
  
  
      
          $('#date').val(new Date().toJSON().slice(0,10));
  
          
      
          // Example starter JavaScript for disabling form submissions if there are invalid fields
          (function () {
              'use strict';
              window.addEventListener('load', function () {
                  // Fetch all the forms we want to apply custom Bootstrap validation styles to
                  var forms = document.getElementsByClassName('needs-validation');
                  // Loop over them and prevent submission
                  var validation = Array.prototype.filter.call(forms, function (form) {
                      form.addEventListener('submit', function (event) {
                          if (form.checkValidity() === false) {
                              event.preventDefault();
                              event.stopPropagation();
                          }
                          form.classList.add('was-validated');
                      }, false);
                  });
              }, false);
          })();
       
          // Example starter JavaScript for disabling form submissions if there are invalid fields
          (function () {
              'use strict';
              window.addEventListener('load', function () {
                  // Fetch all the forms we want to apply custom Bootstrap validation styles to
                  var forms = document.getElementsByClassName('needs-validation');
                  // Loop over them and prevent submission
                  var validation = Array.prototype.filter.call(forms, function (form) {
                      form.addEventListener('submit', function (event) {
                          if (form.checkValidity() === false) {
                              event.preventDefault();
                              event.stopPropagation();
                          }
                          form.classList.add('was-validated');
                      }, false);
                  });
              }, false);
          })();
       
      
          function myFunction() {
              var checkBox = document.getElementById("myCheck");
              var text = document.getElementById("bill");
              if (checkBox.checked == true) {
                  text.style.display = "block";
              } else {
                  text.style.display = "none";
              }
          }
       
          function show() {
              var checkBox = document.getElementById("Check");
              var abc = document.getElementById("sad");
              var def = document.getElementById("happy");
              if (checkBox.checked == true) {
                  abc.style.display = "block";
                  def.style.display = "block";
              } else {
                  abc.style.display = "none";
                  def.style.display = "none";
              }
          }
      
          $(document).ready(function () {
              // $('#customer').on('change', function() {
              //     console.log($('#customer').val())
              //     $.ajax({
              //         type : 'POST',
                      
              //         url: "{% url 'getcustdata' %}",
              //         data: {
              //             id: $('#customer').val(),
              //             csrfmiddlewaretoken: '{{ csrf_token }}',
              //         },
                      
  
              //     }).done(function(response) {
              //     var json_data = JSON.parse(response);
              //     for (key in json_data) {
              //         document.getElementById('email').value = json_data[key]['email'];
              //         document.getElementById('mailaddr').value = json_data[key]['street'] + '\n' + json_data[key]['city'] + '\n' + json_data[key]['state'] + '\n' + json_data[key]['pincode'] + '\n' + json_data[key]['country'];
              //         var invdrop=document.getElementById('inv_no');
              //         invdrop.remove(option,invdrop[0]);
              //         var option=document.createElement("option");
                      
              //         option.text=json_data[key]['invdata'];
              //         invdrop.add(option,invdrop[0]);
              //     }
              //     });
              // });
  
              var $select1 = $('#plosu'),
              $select2 = $('#tax1'),
              $select3 = $('#tax2'),
              $select4 = $('#tax3'),
              $select5 = $('#tax4'),
              $options = $select2.find('option'),
              $options1 = $select3.find('option'),
              $options2 = $select4.find('option'),
              $options3 = $select5.find('option');
              if ($options1.value == '{{ cmp1.state }}') {
                  $options1.text = "{{ cmp1.state }}"
              }
              $select1.on('change', function() {
                  if (this.value == "{{ cmp1.state }}") {
                      $select2.html($options.filter('[text="' + this.value + '"]'));
                      $select3.html($options1.filter('[text="' + this.value + '"]'));
                      $select4.html($options2.filter('[text="' + this.value + '"]'));
                      $select5.html($options3.filter('[text="' + this.value + '"]'));
                  } 
                  else {
                      $select2.html($options.filter('[text="' + " " + '"]'));
                      $select3.html($options1.filter('[text="' + " " + '"]'));
                      $select4.html($options2.filter('[text="' + " " + '"]'));
                      $select5.html($options3.filter('[text="' + " " + '"]'));
                  }
              }).trigger('change');
          })
       
          $(document).ready(function(){
              $("#tab_logic").on('click', '.demo', function() {
                  var currentRow = $(this).closest("tr");
                  var col1=currentRow.find("td:eq(2)").text();
                  alert(col1);
              });
          });
  

 
  $(document).ready(function(){
    
   $('#add').click(function(){
    
    var table = document.getElementById("items-table-body");
               var roinc = table.rows.length;
               var bc = document.getElementById("plosu").value;
               var compstate = document.getElementById("cmpstate").value;
               
               roinc++;
  
        $('#items-table-body').append(
  
            `<tr id='addr0${roinc}'>
                    <td class="nnum">${roinc} <input type="text"  name='id[]' value= 0 hidden></td></td>
                    <td style="width: 20%;">
                      <div class="d-flex">
                      <select name='product[]' id="product${roinc}" class="form-control product" style="background-color: #2f516f; color: white;">
                        <option value=" " selected>Select Product</option>
                        
                        {% for i in item %}
                                {% if i.cid_id == cmp1.cid %}
                                    <option 
                                            value="{{ i.name  }}">{{ i.name  }} </option>
                                {% endif %}
                            {% endfor %}
        
                            
                        
                               
                              </select>

                            <a href="#">
                                <button type="button" class="btn btn-outline-secondary ml-1" 
                                data-target="#newitem" data-toggle="modal">+</button>
                            </a>
                        </div>
                    </td>
                    <td><input type="text" name='hsn[]' id="hsn${roinc}" placeholder='Enter HSN Code' class="form-control" style="background-color: #2f516f; color: white;" /></td>
                    <td><input type="number" name='qty[]'  placeholder='Enter Qty' id="qty${roinc}" value=0 class="form-control qty" step=0 min=0 style="background-color: #2f516f;margin-top: 25px;  color: white;" />
                      <div><span>Available Qty :</span><span id="qtyspan${roinc}" class=''></span></div>
                    </td>
                    <td><input type="number" name='price[]' id="unit${roinc}" placeholder='Enter Unit Price' class="form-control price" step="0.00" min="0" style="background-color: #2f516f; color: white;" /></td>
                    
                    
                   
                    <td>
                                <input type="text"  id="select_tax" placeholder="Tax Rate" class="form-control seltax d-flex">

                                <select name='tax1[]' id="tax1${roinc}" class="form-control intra_tax d-none">
                                    <option selected disabled > Select GST</option>
                                     <option value=28 >28.0% GST(28%)</option>
                                    <option value=18 >18.0% GST(18%)</option>
                                    <option value=12  >12.0% GST(12%)</option>
                                        <option value=5  >05.0% GST(05%)</option>
                                    <option value=3  >03.0% GST(03%)</option>
                                        <option value=0  >0.0% GST(0%)</option>
                                </select>
                                <select name='tax2[]' id="tax2${roinc}" class="form-control inter_tax d-none">
                                    <option selected disabled > Select IGST</option>
                                     <option value=28 >28.0% IGST(28%)</option>
                                    <option value=18 >18.0% IGST(18%)</option>
                                    <option value=12  >12.0% IGST(12%)</option>
                                        <option value=5  >05.0% IGST(05%)</option>
                                    <option value=3  >03.0% IGST(03%)</option>
                                        <option value=0  >0.0% IGST(0%)</option>
                                </select>
                            </td>  
                            <td>
                                <input type="number" name='discount[]' placeholder='Enter Discount' value=0 id="disc${roinc}" class="form-control disc" step=0 min=0>
                            </td>
                    <td><input type="number" name='total[]' id="total${roinc}" placeholder=0 class="form-control total" value=0 step="any" readonly style="background-color: #2f516f; color: white;" /></td>
                    <td style="display: none;"><input type="number" step="any" name='taxamount1' id="taxamount${roinc}" class="form-control taxamount" />
                        <td>
                                <button type="button" id="${roinc}" class="btn  font-weight-bold clone_row fas fa-clone px-2 py-1 my-1" style="background-color:rgb(88, 107, 143);"></button><br>
                                <button type="button" id="${roinc}" class="btn btn-danger px-2 mx-1 py-1 remove_row fas fa-close"></button>
                            </td>
                  </tr>
  
  `
    
 
 );
 $('.product').each(function(index, dropdown) {
                    var row = $(dropdown).closest('.items-table-body'); // Assuming each row has a class 'item-row'
                    $.ajax({
                        url: "{% url 'item_dropdown' %}",
                        type: "GET",
                        dataType: "json",
                        data: row.find('select').serialize(),
                        csrfmiddlewaretoken: '{{ csrf_token }}',

                        success: function(data) {
                            var dropdown = $('.product');
                            dropdown.empty();
                            dropdown.append(`<option selected>Select Item</option>`);
                            $.each(data, function(key, value) {
                            
                                dropdown.append($('<option></option>').attr('value', key).text(value).val(value));
                            });

                        },
                        error: function(xhr, status, error) {
                        console.error(xhr.responseText);
                        }
                    });
                });
  });
});

$(document).on('change','#plosu',function()   {
                $(".seltax").removeClass('d-none');
                $(".seltax").addClass('d-flex');
                $(".intra_tax").removeClass('d-flex');
                $(".intra_tax").addClass('d-none');
                $(".inter_tax").removeClass('d-flex');
                $(".inter_tax").addClass('d-none');
                var bc = document.getElementById("plosu").value;
                var compstate = document.getElementById("cmpstate").value;
                if (bc == compstate ) {
                    document.getElementById('cgst1').style.display = 'flex';
                    document.getElementById('sgst1').style.display = 'flex';
                    document.getElementById('igst1').style.display = 'none'; 

                } else {
                    document.getElementById('cgst1').style.display = 'none';
                    document.getElementById('sgst1').style.display = 'none';
                    document.getElementById('igst1').style.display = 'flex';

                }
                    
            });


  // calculation---------------------------

  $(document).on('change', '.product',function(){ 
                
                // console.log('y');
                var n = $(this).attr("id").slice(7);
                // console.log(n);
                $.ajax({
                url: "{% url 'itemdata' %}",
                type : 'GET',
                data:{
                    id : $(this).val(),
                    csrfmiddlewaretoken: '{{ csrf_token }}'
                    },
                
                success: function(response) {
                    data = response.hsn
                    data2 = response.qty
                    data3 = response.price
                    data4 = response.gst
                    data5 = response.sgst

                    console.log(data2)
                    
                    document.getElementById('hsn'+n).value = data;
                    document.getElementById('qtyspan'+n).innerHTML = data2;
                    document.getElementById('unit'+n).value = data3;

                },
                });
                

            });

            $(document).on('click','.remove_row',function(){
                var row_id = $(this).attr("id");
                // console.log(row_id);
                $('#addr0'+row_id+'').remove();
                
                calc();
            });
        

            $(document).on('click','.clone_row',function(){
                var roinc = $("#items-table-body tr").length;
                var originalRow = $(this).closest('#items-table-body tr'); 
                var clonedRow = originalRow.clone();

                // var newId = parseInt(clonedRow.attr('id').replace('addr0', ''))+1;
                clonedRow.attr('id', 'addr0' +(roinc+1));

                clonedRow.find('.nnum').text(roinc+1);

                var hiddenInput = originalRow.find('input[name="id[]"]').clone();
                hiddenInput.val(0);
                clonedRow.find('.nnum').append(hiddenInput);

                clonedRow.find('[id]').each(function() {
                    var oldId = $(this).attr('id');
                    var newId = oldId.replace(/\d+/, roinc+1);
                    console.log(newId)
                    $(this).attr('id', newId );
                });

                clonedRow.find('.product').each(function() {
                    $(this).val(originalRow.find('.product').val());
                });
                clonedRow.find('.intra_tax').each(function() {
                    $(this).val(originalRow.find('.intra_tax').val());
                });
                clonedRow.find('.inter_tax').each(function() {
                    $(this).val(originalRow.find('.inter_tax').val());
                });
                originalRow.after(clonedRow);
                
                calc();
                
            });
            $('#items-table-body').on('keyup change', function () {
                calc();
            });

            $('#tax').on('keyup change', function () {
                calc_total();
            });
         

        function calc() {
            $('#tab_logic tbody tr').each(function () {
                var html = $(this).html();
                if (html != '') {
                    var qty = $(this).find('.qty').val();
                    var price = $(this).find('.price').val();

                    var dis = $(this).find('.disc').val();
                    var bc = $("#plosu").val();
                    var compstate = $("#cmpstate").val();
                    if(bc==compstate){
                        tax = $(this).find('.intra_tax').val();
                    }
                    else{
                        tax = $(this).find('.inter_tax').val();
                    }
                    $(this).find('.total').val((qty * price)-dis);
                    $(this).find('.taxamount').val(((qty * price)-dis) * (tax / 100));
                    calc_total();
                }
            });
        }

        function calc_total() {
             
            total = 0;
            $('.total').each(function () {
                total += parseFloat($(this).val());
            });
            taxamount = 0;
            $('.taxamount').each(function () {
                taxamount += parseFloat($(this).val());
            });
            $('#sub_total').val(total.toFixed(2));
            $('#tax_amount').val(taxamount.toFixed(2));
            ship = parseFloat($("#ship").val());
            // console.log( ship);
            gtot = taxamount + total + ship;
            $('#grandtotal').val(gtot.toFixed(2));
            $('#baldue').val(gtot.toFixed(2));

            test()
        }

        function test(){
                     
            var bc = $("#plosu").val();
            var compstate = $("#cmpstate").val();
            d=0
            if (bc == compstate  ) {
                gst = taxamount/2
                $('#cgst').val(parseFloat(gst.toFixed(2)));
                $('#sgst').val(parseFloat(gst.toFixed(2)));
                $('#igst').val(parseFloat(d.toFixed(2)));
            }
                
            if (bc != "{{ cmp1.state }}"  ) {
                $('#igst').val(taxamount.toFixed(2));
                $('#cgst').val(d.toFixed(2));
                $('#sgst').val(d.toFixed(2));
            }

           
        }
        function showinnum(divId, element) {
            if (element.value) {
                document.getElementById(divId).innerHTML = "Debit Note " + element.value;
            } else {
                document.getElementById(divId).innerHTML = "Debit Note";
            }
        }

        $(document).on('keyup',"#ship",function(){
            var subtot = $('#sub_total').val();
            var tax = $('#tax_amount').val();
            var sh = $("#ship").val();
            $('#grandtotal').val((parseFloat(subtot)+parseFloat(tax)+parseFloat(sh)).toFixed(2));
            $('#baldue').val((parseFloat(subtot)+parseFloat(tax)+parseFloat(sh)).toFixed(2));
        });

        $(document).on("change", "#adj", function(){
            var round = parseFloat($("#grandtotal").val()) + parseFloat($("#adj").val()) 
            $("#grandtotal").val(round);
            $('#baldue').val(round);
        });


            // create customer--------------------------

        $(document).on("click", "#customerSave", function(){
            
            $.ajax({
    
                type : 'POST',
                url:"{% url 'customers21' %}",

                data:{
                  
                    title : $('#title').val(),
                    first_name : $('#firstname').val(),
                    last_name : $('#lastname').val(),
                    company_name : $("#company").val(),
                    location : $("#location").val(),
                    openbalance : $("#openbalance").val(),
                    email : $("#email").val(),
                    website :$("#website").val(),
                    mobile :$("#mobile").val(),
                    street : $("#street").val(),
                    city : $("#city").val(),
                    state : $("#state").val(),
                    country : $("#country").val(),
                    pincode : $("#pincode").val(),
                    shipstreet : $("#shipstreet").val(),
                    shipcity : $("#shipcity").val(),
                    shipstate : $("#shipstate").val(),
                    shipcountry : $("#shipcountry").val(),
                    shippincode : $("#shippincode").val(),
                    gsttype :$("#gsttype").val(),
                    gstin :$("#gstin").val(),
                    panno :$("#panno").val(),

                    csrfmiddlewaretoken: '{{ csrf_token }}',
                },
                
                success: function(response) {
                    console.log("success")
                    document.getElementById("modalCustomer").reset();
                    reloadCustomer();
                },
            });        
        });


        function reloadCustomer() {

            $.ajax({
                url: "{% url 'cust_dropdown' %}",
                type: "GET",
                dataType: "json",
                data: $(this).serialize(),
                csrfmiddlewaretoken: '{{ csrf_token }}',

                success: function(data) {
                    var dropdown = $('#customer');
                    dropdown.empty();
                dropdown.append(`<option selected>Select Customer</option>`);
                    $.each(data, function(key, value) {
                        console.log(value)
                        dropdown.append($('<option></option>').attr('value', key).text(value[1] + " " +value[2] + " "+ value[3]).val(value[0] + " " +value[2] + " "+ value[3]));
                    });
                },
                error: function(xhr, status, error) {
                console.error(xhr.responseText);
                }
            });
        }

        // item modal

        $(document).on("click","#itemSave",function(){
            var taxref,status1;
 
            if ($('#inclusive').checked) {
                tax= $('#inclusive').val();
             } 
             else if($('#check').val()){
                tax = $('#check').val();
             }
             else 
            {
             console.log("Checkbox is not checked.");
            }

            console.log(tax);
            if ($('input[name="status"]:checked').val() == 'Active'){

                status1 = $('#flexRadioDefault1').val();
            }
            else{
                status1 = $('#flexRadioDefault2').val();
            }

            $.ajax({
                
                type : 'POST',
                url:"{% url 'credit_item' %}",
                
                data:{
                    type : $("#type").val(),
                    name : $("#item_name").val(),
                    unit : $("#unit").val(),
                    hsn : $("#hsn").val(),
                    taxref : tax,
                    sell_price : $("#saleprice").val(),
                    cost_price : $("#purprice").val(),
                    sell_acc : $("#sale_account").val(),
                    cost_acc : $("#pur_account").val(),
                    sell_desc : $("#sale_desc").val(),
                    cost_desc : $("#pur_desc").val(),
                    intra_st : $("#intra_st").val(),
                    inter_st : $("#inter_st").val(),
                    invacc : $("#invacc").val(),
                    stock : $("#stock").val(),
                    status : status1,
                    csrfmiddlewaretoken: '{{ csrf_token }}',
                    
                },
                
                success: function(response) {
                    console.log(response)
                    document.getElementById("modalItem").reset();
                    reloadItem();
                },
            });        
        });


        function reloadItem() {
            $.ajax({
                url: "{% url 'item_dropdown' %}",
                type: "GET",
                dataType: "json",
                data: $(this).serialize(),
                csrfmiddlewaretoken: '{{ csrf_token }}',

                success: function(data) {
                    var dropdown = $('.product');
                    dropdown.empty();
                    dropdown.append(`<option selected>Select Item</option>`);
                    $.each(data, function(key, value) {
                    
                        dropdown.append($('<option></option>').attr('value', key).text(value).val(value));
                    });

                },
                error: function(xhr, status, error) {
                console.error(xhr.responseText);
                }
            });
        }



            $(document).ready(function () {
                $('#customer').on('change', function() {
                    console.log($('#customer').val())
                    $.ajax({
                        type : 'POST',
                        
                        url: "{% url 'cust_details' %}",
                        data: {
                            id: $('#customer').val(),
                            csrfmiddlewaretoken: '{{ csrf_token }}',
                        },
                        
                        success: function(data){
                            console.log(data.email);
                            document.getElementById('cust_email').value = data.email;
                            document.getElementById('bname').value = data.street + '\n' + data.city + '\n' + data.state + '\n' + data.country  + '\n' + data.pincode ;
                        }
                    });
                });
            });

            $(document).on("click",".seltax",function(){
                
                $(".seltax").removeClass('d-flex');
                $(".seltax").addClass('d-none');

                console.log($("#plosu").val());
                console.log($("#cmpstate").val());

                if($("#plosu").val() == $("#cmpstate").val()){
                    console.log("yes");
                    $(".inter_tax").removeClass('d-flex');
                    $(".inter_tax").addClass('d-none');

                    $(".intra_tax").removeClass('d-none');
                    $(".intra_tax").addClass('d-flex');
                    
                }
                else{
                    console.log("no");
                    $(".intra_tax").removeClass('d-flex');
                    $(".intra_tax").addClass('d-none');

                    $(".inter_tax").removeClass('d-none');
                    $(".inter_tax").addClass('d-flex');
                }

            });

            $(document).on('change','#plosu',function()   {
                $(".seltax").removeClass('d-none');
                $(".seltax").addClass('d-flex');
                $(".intra_tax").removeClass('d-flex');
                $(".intra_tax").addClass('d-none');
                $(".inter_tax").removeClass('d-flex');
                $(".inter_tax").addClass('d-none');
                var bc = document.getElementById("plosu").value;
                var compstate = document.getElementById("cmpstate").value;
                if (bc == compstate ) {
                    document.getElementById('cgst1').style.display = 'flex';
                    document.getElementById('sgst1').style.display = 'flex';
                    document.getElementById('igst1').style.display = 'none'; 

                } else {
                    document.getElementById('cgst1').style.display = 'none';
                    document.getElementById('sgst1').style.display = 'none';
                    document.getElementById('igst1').style.display = 'flex';

                }
                    
            });
                
            
    
 

 
        function poppins() {
            var chkbtn = document.getElementById('okay');
            if (chkbtn.checked == true) {
                document.getElementById('shipstreet').value = document.getElementById('street').value;
                document.getElementById('shipcity').value = document.getElementById('city').value;
                document.getElementById('shippincode').value = document.getElementById('pincode').value;
                document.getElementById('shipcountry').value = document.getElementById('country').value;
                document.getElementById('shipstate').value = document.getElementById('state').value;
                document.getElementById('shipst').innerHTML = document.getElementById('state').value;
            } else {
                document.getElementById('shipstreet').value = '';
                document.getElementById('shipcity').value = '';
                document.getElementById('shipstate').value = '';
                document.getElementById('shippincode').value = '';
                document.getElementById('shipcountry').value = '';
            }
        }
   
        function hidinput(divId, element) {
            if (element.value == 'GST-registered-Regular') {
                document.getElementById(divId).style.display = 'block';
            } else {
                document.getElementById(divId).style.display = 'none';
            }
        }

        function showMessage(input) {
            const gstin = input.value;

            if (gstin.length === 15) {
                // document.getElementById("message").textContent = "Please wait, validating GSTIN format...";
                setTimeout(() => checkgst(input), 1000);  // Wait for a second and then validate GSTIN
            } else {
                document.getElementById("message").textContent = "";
            }
        }

        function checkgst(element) {
            var gstinput = element.value;
            var gstregexp = "[0-9]{2}[a-zA-Z]{5}[0-9]{4}[a-zA-Z]{1}[1-9A-Za-z]{1}[Z]{1}[0-9a-zA-Z]{1}";
            if (gstinput.match(gstregexp)) {
                document.getElementById('warngst').innerHTML = '';
            } else {
                document.getElementById('warngst').innerHTML = 'Please provide a valid GSTIN';
                alert('Please provide a valid GSTIN');
            }
        }

        function checkpan(element) {
            var paninput = element.value;
            var panregexp = ["[a-zA-Z]{5}[0-9]{4}[a-zA-Z]{1}"]
            if (paninput.match(panregexp)) {
                document.getElementById('warnpan').innerHTML = '';
            } else {
                document.getElementById('warnpan').innerHTML = 'Please provide a valid PAN Number';
                alert('Please provide a valid PAN Number')
            }
        }

        function checkweb(element) {
            var webinput = element.value;
            var webregexp = "www."
            if (webinput.startsWith(webregexp)) {
                document.getElementById('warnweb').innerHTML = '';
            } else {
                document.getElementById('warnweb').innerHTML = 'Please provide a valid Website Address';
                alert('Please provide a valid Website Address')
            }
        }

        function checkphone(element) {
            var phoneinput = element.value;
            var phoneregexp = "[0-9]{10}";
            if (phoneinput.match(phoneregexp)) {
                document.getElementById('warnphone').innerHTML = '';
            } else {
                document.getElementById('warnphone').innerHTML = 'Please provide a valid Phone Number';
                alert('Please provide a valid Phone Number')
            }
        }

  // $(document).on('click','.remove_row',function(){
  //   const response = confirm("Are you sure you want to do that?");

  //   if (response) {
  //       var row_id = $(this).attr("id");
  //       var rowprd = document.getElementById('product'+row_id).value
  //       var crdid='{{sale.id }}'
        
        
  //       $.ajax({
  //           type: "GET",
  //           url: "{% url 'removesales' %}",
  //           data: {
  //           id: rowprd,
  //           cr:crdid
            
  //           }});
  //       $('#addr0'+row_id+'').remove();
  //       calc()
  //   } else {
  //       pass;
  //   }
  // // var row_id = $(this).attr("id");
  // // $('#addr0'+row_id+'').remove();
  // // calc()
  // });
  // // $(document).on('click','#product1',function(){
  //   var place = document.getElementById('plosu').value;
  //   $(document).on('click','#product',function(){
  // // $('#product').on('change', function() {
  //     select = $('#product').val();
  //     $.ajax({
  //       type: "GET",
  //       url: "{% url 'getitems2' %}",
  //       data: {
  //         id: select
  //       },
  //       success:function(response){
  //                   console.log(response)
  //                   data = response.hsn
  //                   data1 = response.desp
  //                   data2 = response.qty
  //                   data3 = response.price
  //                   data4 = response.gst
  //                   data5 = response.sgst
  //                   document.getElementById('hsn1').value = data
  //                   document.getElementById('description').value = data1
  //                   document.getElementById('qtyspan').innerHTML =data2;
                    

  //                   document.getElementById('unit1').value = data3
                    
                    
  //                   if (place == '{{ cmp1.state }}')
  //                   {
  //                     document.getElementById('ta1').innerHTML = data4 + ' % GST';
  //                     document.getElementById('ta1').value=data4

  //                   } 
                    
  //                   document.getElementById('ta5').innerHTML  = data5 + ' % IGST';
  //                   document.getElementById('ta5').value=data5
  //                   if (data2<1)
  //                   {
                      
                      
  //                     document.getElementById('qtyspan').style.color="red";
  //                   }
  //                   else{
  //                     pass
  //                   }
                  
  //               }
      
      
  //     });
  //   });


    
 
  //   $(document).on('click','#product1',function(){
  //     select = $('#product1').val();
  //     $.ajax({
  //       type: "GET",
  //       url: "{% url 'getitems2' %}",
  //       data: {
  //         id: select
  //       },
  //       success:function(response){
  //                   console.log(response)
  //                   data = response.hsn
  //                   data1 = response.desp
  //                   data2 = response.qty
  //                   data3 = response.price
  //                   data4 = response.gst
  //                   data5 = response.sgst
                   
  //                   document.getElementById('hsn11').value = data
  //                   document.getElementById('description1').value = data1
  //                   document.getElementById('qtyspan1').innerHTML = data2;
  //                   document.getElementById('unit11').value = data3
                    
                
                    
                    
                    
  //                   if (place == '{{ cmp1.state }}')
  //                   {
  //                     document.getElementById('ta11').innerHTML = data4 + ' % GST';
  //                     document.getElementById('ta11').value=data4

  //                   } 
                    
  //                   document.getElementById('ta51').innerHTML  = data5 + ' % IGST';
  //                   document.getElementById('ta51').value=data5
  //                   if (data2<1)
  //                   {
                      
                      
  //                     document.getElementById('qtyspan1').style.color="red";
  //                   }
  //                   else{
  //                     pass
  //                   }
  //               }
                

      
      
  //     });
  //   });

  //   $(document).on('click','#product2',function(){
  //     select = $('#product2').val();
  //     $.ajax({
  //       type: "GET",
  //       url: "{% url 'getitems2' %}",
  //       data: {
  //         id: select
  //       },
  //       success:function(response){
  //                   console.log(response)
  //                   data = response.hsn
  //                   data1 = response.desp
  //                   data2 = response.qty
  //                   data3 = response.price
  //                   data4 = response.gst
  //                   data5 = response.sgst
                    
  //                   document.getElementById('hsn12').value = data
  //                   document.getElementById('description2').value = data1
  //                   document.getElementById('qtyspan2').innerHTML = data2;
  //                   document.getElementById('unit12').value = data3
                    
                
                    
  //                   if (place == '{{ cmp1.state }}')
  //                   {
  //                     document.getElementById('ta12').innerHTML = data4 + ' % GST';
  //                     document.getElementById('ta12').value=data4

  //                   } 
                    
  //                   document.getElementById('ta52').innerHTML  = data5 + ' % IGST';
  //                   document.getElementById('ta52').value=data5
  //                   if (data2<1)
  //                   {
                      
                      
  //                     document.getElementById('qtyspan2').style.color="red";
  //                   }
  //                   else{
  //                     pass
  //                   }
  //               }
      
      
  //     });
  //   });
  //   $(document).on('click','#product3',function(){
  //     select = $('#product3').val();
  //     $.ajax({
  //       type: "GET",
  //       url: "{% url 'getitems2' %}",
  //       data: {
  //         id: select
  //       },
  //       success:function(response){
  //                   console.log(response)
  //                   data = response.hsn
  //                   data1 = response.desp
  //                   data2 = response.qty
  //                   data3 = response.price
  //                   data4 = response.gst
  //                   data5 = response.sgst
                    
  //                   document.getElementById('hsn13').value = data
  //                   document.getElementById('description3').value = data1
  //                   document.getElementById('qtyspan3').innerHTML = data2;
  //                   document.getElementById('unit13').value = data3
                    
               
                    
  //                   if (place == '{{ cmp1.state }}')
  //                   {
  //                     document.getElementById('ta13').innerHTML = data4 + ' % GST';
  //                     document.getElementById('ta13').value=data4

  //                   } 
                    
  //                   document.getElementById('ta53').innerHTML  = data5 + ' % IGST';
  //                   document.getElementById('ta53').value=data5
  //                   if (data2<1)
  //                   {
                      
                      
  //                     document.getElementById('qtyspan3').style.color="red";
  //                   }
  //                   else{
  //                     pass
  //                   }
  //               }

  //     });
  //   });
  //   $(document).on('click','#product4',function(){
  //     select = $('#product4').val();
  //     $.ajax({
  //       type: "GET",
  //       url: "{% url 'getitems2' %}",
  //       data: {
  //         id: select
  //       },
  //       success:function(response){
  //                   console.log(response)
  //                   data = response.hsn
  //                   data1 = response.desp
  //                   data2 = response.qty
  //                   data3 = response.price
  //                   data4 = response.gst
  //                   data5 = response.sgst
                    
  //                   document.getElementById('hsn14').value = data
  //                   document.getElementById('description4').value = data1
  //                   document.getElementById('qtyspan4').innerHTML = data2;
  //                   document.getElementById('unit14').value = data3
                    
                  
                    
  //                   if (place == '{{ cmp1.state }}')
  //                   {
  //                     document.getElementById('ta14').innerHTML = data4 + ' % GST';
  //                     document.getElementById('ta14').value=data4

  //                   } 
                    
  //                   document.getElementById('ta54').innerHTML  = data5 + ' % IGST';
  //                   document.getElementById('ta54').value=data5
  //                   if (data2<1)
  //                   {
                      
                      
  //                     document.getElementById('qtyspan4').style.color="red";
  //                   }
  //                   else{
  //                     pass
  //                   }
  //               }

  //     });
  //   });
  //   $(document).on('click','#product5',function(){
  //     select = $('#product5').val();
  //     $.ajax({
  //       type: "GET",
  //       url: "{% url 'getitems2' %}",
  //       data: {
  //         id: select
  //       },
  //       success:function(response){
  //                   console.log(response)
  //                   data = response.hsn
  //                   data1 = response.desp
  //                   data2 = response.qty
  //                   data3 = response.price
  //                   data4 = response.gst
  //                   data5 = response.sgst
                    
  //                   document.getElementById('hsn15').value = data
  //                   document.getElementById('description5').value = data1
  //                   document.getElementById('qtyspan5').innerHTML = data2;
  //                   document.getElementById('unit15').value = data3
                    

                    
  //                   if (place == '{{ cmp1.state }}')
  //                   {
  //                     document.getElementById('ta15').innerHTML = data4 + ' % GST';
  //                     document.getElementById('ta15').value=data4

  //                   } 
                    
  //                   document.getElementById('ta55').innerHTML  = data5 + ' % IGST';
  //                   document.getElementById('ta55').value=data5
  //                   if (data2<1)
  //                   {
                      
                      
  //                     document.getElementById('qtyspan5').style.color="red";
  //                   }
  //                   else{
  //                     pass
  //                   }
  //               }

  //     });
  //   });

  //   $(document).on('click','#product6',function(){
  //     select = $('#product6').val();
  //     $.ajax({
  //       type: "GET",
  //       url: "{% url 'getitems2' %}",
  //       data: {
  //         id: select
  //       },
  //       success:function(response){
  //                   console.log(response)
  //                   data = response.hsn
  //                   data1 = response.desp
  //                   data2 = response.qty
  //                   data3 = response.price
  //                   data4 = response.gst
  //                   data5 = response.sgst
                    
  //                   document.getElementById('hsn16').value = data
  //                   document.getElementById('description6').value = data1
  //                   document.getElementById('qtyspan6').innerHTML = data2;
  //                   document.getElementById('unit16').value = data3
                    

                 
                    
  //                   if (place == '{{ cmp1.state }}')
  //                   {
  //                     document.getElementById('ta16').innerHTML = data4 + ' % GST';
  //                     document.getElementById('ta16').value=data4

  //                   } 
                    
  //                   document.getElementById('ta56').innerHTML  = data5 + ' % IGST';
  //                   document.getElementById('ta56').value=data5
  //                   if (data2<1)
  //                   {
                      
                      
  //                     document.getElementById('qtyspan6').style.color="red";
  //                   }
  //                   else{
  //                     pass
  //                   }
  //               }

  //     });
  //   });
  //   $(document).on('click','#product7',function(){
  //     select = $('#product7').val();
  //     $.ajax({
  //       type: "GET",
  //       url: "{% url 'getitems2' %}",
  //       data: {
  //         id: select
  //       },
  //       success:function(response){
  //                   console.log(response)
  //                   data = response.hsn
  //                   data1 = response.desp
  //                   data2 = response.qty
  //                   data3 = response.price
  //                   data4 = response.gst
  //                   data5 = response.sgst
                    
  //                   document.getElementById('hsn17').value = data
  //                   document.getElementById('description7').value = data1
  //                   document.getElementById('qtyspan7').innerHTML = data2;
  //                   document.getElementById('unit17').value = data3
                    
               
                    
  //                   if (place == '{{ cmp1.state }}')
  //                   {
  //                     document.getElementById('ta17').innerHTML = data4 + ' % GST';
  //                     document.getElementById('ta17').value=data4

  //                   } 
                    
  //                   document.getElementById('ta57').innerHTML  = data5 + ' % IGST';
  //                   document.getElementById('ta57').value=data5
  //                   if (data2<1)
  //                   {
                      
                      
  //                     document.getElementById('qtyspan7').style.color="red";
  //                   }
  //                   else{
  //                     pass
  //                   }
  //               }

  //     });
  //   });
  //   $(document).on('click','#product8',function(){
  //     select = $('#product8').val();
  //     $.ajax({
  //       type: "GET",
  //       url: "{% url 'getitems2' %}",
  //       data: {
  //         id: select
  //       },
  //       success:function(response){
  //                   console.log(response)
  //                   data = response.hsn
  //                   data1 = response.desp
  //                   data2 = response.qty
  //                   data3 = response.price
  //                   data4 = response.gst
  //                   data5 = response.sgst
                    
  //                   document.getElementById('hsn18').value = data
  //                   document.getElementById('description8').value = data1
  //                   document.getElementById('qtyspan8').innerHTML = data2;
  //                   document.getElementById('unit18').value = data3

                    
                  
                    


  //                   if (place == '{{ cmp1.state }}')
  //                   {
  //                     document.getElementById('ta18').innerHTML = data4 + ' % GST';
  //                     document.getElementById('ta18').value=data4

  //                   } 
                    
  //                   document.getElementById('ta58').innerHTML  = data5 + ' % IGST';
  //                   document.getElementById('ta58').value=data5
  //                   if (data2<1)
  //                   {
                      
                      
  //                     document.getElementById('qtyspan8').style.color="red";
  //                   }
  //                   else{
  //                     pass
  //                   }
  //               }

  //     });
  //   });
  //   $(document).on('click','#product9',function(){
  //     select = $('#product9').val();
  //     $.ajax({
  //       type: "GET",
  //       url: "{% url 'getitems2' %}",
  //       data: {
  //         id: select
  //       },
  //       success:function(response){
  //                   console.log(response)
  //                   data = response.hsn
  //                   data1 = response.desp
  //                   data2 = response.qty
  //                   data3 = response.price
  //                   data4 = response.gst
  //                   data5 = response.sgst
                    
  //                   document.getElementById('hsn19').value = data
  //                   document.getElementById('description9').value = data1
  //                   document.getElementById('qtyspan9').innerHTML = data2;
  //                   document.getElementById('unit19').value = data3

                    

                  
                    
                    
  //                   if (place == '{{ cmp1.state }}')
  //                   {
  //                     document.getElementById('ta19').innerHTML = data4 + ' % GST';
  //                     document.getElementById('ta19').value=data4

  //                   } 
                    
  //                   document.getElementById('ta59').innerHTML  = data5 + ' % IGST';
  //                   document.getElementById('ta59').value=data5
  //                   if (data2<1)
  //                   {
                      
                      
  //                     document.getElementById('qtyspan9').style.color="red";
  //                   }
  //                   else{
  //                     pass
  //                   }
  //               }

  //     });
  //   });
  //   $(document).on('click','#product10',function(){
  //     select = $('#product10').val();
  //     $.ajax({
  //       type: "GET",
  //       url: "{% url 'getitems2' %}",
  //       data: {
  //         id: select
  //       },
  //       success:function(response){
  //                   console.log(response)
  //                   data = response.hsn
  //                   data1 = response.desp
  //                   data2 = response.qty
  //                   data3 = response.price
  //                   data4 = response.gst
  //                   data5 = response.sgst
                    
  //                   document.getElementById('hsn110').value = data
  //                   document.getElementById('description10').value = data1
  //                   document.getElementById('qtyspan10').innerHTML = data2;
  //                   document.getElementById('unit110').value = data3
                    


               
                    
                    
  //                   if (place == '{{ cmp1.state }}')
  //                   {
  //                     document.getElementById('ta110').innerHTML = data4 + ' % GST';
  //                     document.getElementById('ta110').value=data4

  //                   } 
                    
  //                   document.getElementById('ta510').innerHTML  = data5 + ' % IGST';
  //                   document.getElementById('ta510').value=data5
  //                   if (data2<1)
  //                   {
                      
                      
  //                     document.getElementById('qtyspan10').style.color="red";
  //                   }
  //                   else{
  //                     pass
  //                   }
  //               }

  //     });
  //   });
  //   $(document).on('click','#product11',function(){
  //     select = $('#product11').val();
  //     $.ajax({
  //       type: "GET",
  //       url: "{% url 'getitems2' %}",
  //       data: {
  //         id: select
  //       },
  //       success:function(response){
  //                   console.log(response)
  //                   data = response.hsn
  //                   data1 = response.desp
  //                   data2 = response.qty
  //                   data3 = response.price
  //                   data4 = response.gst
  //                   data5 = response.sgst
                    
  //                   document.getElementById('hsn111').value = data
  //                   document.getElementById('description11').value = data1
  //                   document.getElementById('qtyspan11').innerHTML = data2;
  //                   document.getElementById('unit111').value = data3

                    

                  
                    
                    
  //                   if (place == '{{ cmp1.state }}')
  //                   {
  //                     document.getElementById('ta111').innerHTML = data4 + ' % GST';
  //                     document.getElementById('ta111').value=data4

  //                   } 
                    
  //                   document.getElementById('ta511').innerHTML  = data5 + ' % IGST';
  //                   document.getElementById('ta511').value=data5
  //                   if (data2<1)
  //                   {
                      
                      
  //                     document.getElementById('qtyspan11').style.color="red";
  //                   }
  //                   else{
  //                     pass
  //                   }
  //               }
      
      
  //     });
  //   });

  //   $(document).on('click','#product12',function(){
  //     select = $('#product12').val();
  //     $.ajax({
  //       type: "GET",
  //       url: "{% url 'getitems2' %}",
  //       data: {
  //         id: select
  //       },
  //       success:function(response){
  //                   console.log(response)
  //                   data = response.hsn
  //                   data1 = response.desp
  //                   data2 = response.qty
  //                   data3 = response.price
  //                   data4 = response.gst
  //                   data5 = response.sgst
                    
  //                   document.getElementById('hsn112').value = data
  //                   document.getElementById('description12').value = data1
  //                   document.getElementById('qtyspan12').innerHTML = data2;
  //                   document.getElementById('unit112').value = data3

                    
                    
                  
                    
  //                   if (place == '{{ cmp1.state }}')
  //                   {
  //                     document.getElementById('ta112').innerHTML = data4 + ' % GST';
  //                     document.getElementById('ta112').value=data4

  //                   } 
                    
  //                   document.getElementById('ta512').innerHTML  = data5 + ' % IGST';
  //                   document.getElementById('ta512').value=data5
  //                   if (data2<1)
  //                   {
                      
                      
  //                     document.getElementById('qtyspan12').style.color="red";
  //                   }
  //                   else{
  //                     pass
  //                   }
  //               }
      
      
  //     });
  //   });
  //   $(document).on('click','#product13',function(){
  //     select = $('#product13').val();
  //     $.ajax({
  //       type: "GET",
  //       url: "{% url 'getitems2' %}",
  //       data: {
  //         id: select
  //       },
  //       success:function(response){
  //                   console.log(response)
  //                   data = response.hsn
  //                   data1 = response.desp
  //                   data2 = response.qty
  //                   data3 = response.price
  //                   data4 = response.gst
  //                   data5 = response.sgst
                    
  //                   document.getElementById('hsn113').value = data
  //                   document.getElementById('description13').value = data1
  //                   document.getElementById('qtyspan13').innerHTML = data2;
  //                   document.getElementById('unit113').value = data3

                    

                    
                    
  //                   if (place == '{{ cmp1.state }}')
  //                   {
  //                     document.getElementById('ta113').innerHTML = data4 + ' % GST';
  //                     document.getElementById('ta113').value=data4

  //                   } 
                    
  //                   document.getElementById('ta513').innerHTML  = data5 + ' % IGST';
  //                   document.getElementById('ta513').value=data5
  //                   if (data2<1)
  //                   {
                      
                      
  //                     document.getElementById('qtyspan13').style.color="red";
  //                   }
  //                   else{
  //                     pass
  //                   }
  //               }

  //     });
  //   });
  //   $(document).on('click','#product14',function(){
  //     select = $('#product14').val();
  //     $.ajax({
  //       type: "GET",
  //       url: "{% url 'getitems2' %}",
  //       data: {
  //         id: select
  //       },
  //       success:function(response){
  //                   console.log(response)
  //                   data = response.hsn
  //                   data1 = response.desp
  //                   data2 = response.qty
  //                   data3 = response.price
  //                   data4 = response.gst
  //                   data5 = response.sgst
                    
  //                   document.getElementById('hsn114').value = data
  //                   document.getElementById('description14').value = data1
  //                   document.getElementById('qtyspan14').innerHTML = data2;
  //                   document.getElementById('unit114').value = data3

                    

                    
  //                   if (place == '{{ cmp1.state }}')
  //                   {
  //                     document.getElementById('ta114').innerHTML = data4 + ' % GST';
  //                     document.getElementById('ta114').value=data4

  //                   } 
                    
  //                   document.getElementById('ta514').innerHTML  = data5 + ' % IGST';
  //                   document.getElementById('ta514').value=data5
  //                   if (data2<1)
  //                   {
                      
                      
  //                     document.getElementById('qtyspan14').style.color="red";
  //                   }
  //                   else{
  //                     pass
  //                   }
  //               }

  //     });
  //   });
  //   $(document).on('click','#product15',function(){
  //     select = $('#product15').val();
  //     $.ajax({
  //       type: "GET",
  //       url: "{% url 'getitems2' %}",
  //       data: {
  //         id: select
  //       },
  //       success:function(response){
  //                   console.log(response)
  //                   data = response.hsn
  //                   data1 = response.desp
  //                   data2 = response.qty
  //                   data3 = response.price
  //                   data4 = response.gst
  //                   data5 = response.sgst
                    
  //                   document.getElementById('hsn115').value = data
  //                   document.getElementById('description15').value = data1
  //                   document.getElementById('qtyspan15').innerHTML = data2;
  //                   document.getElementById('unit115').value = data3

                    

                    
                    
                    
  //                   if (place == '{{ cmp1.state }}')
  //                   {
  //                     document.getElementById('ta115').innerHTML = data4 + ' % GST';
  //                     document.getElementById('ta115').value=data4

  //                   } 
                    
  //                   document.getElementById('ta515').innerHTML  = data5 + ' % IGST';
  //                   document.getElementById('ta515').value=data5
  //                   if (data2<1)
  //                   {
                      
                      
  //                     document.getElementById('qtyspan15').style.color="red";
  //                   }
  //                   else{
  //                     pass
  //                   }
  //               }

  //     });
  //   });

  //   $(document).on('click','#product16',function(){
  //     select = $('#product16').val();
  //     $.ajax({
  //       type: "GET",
  //       url: "{% url 'getitems2' %}",
  //       data: {
  //         id: select
  //       },
  //       success:function(response){
  //                   console.log(response)
  //                   data = response.hsn
  //                   data1 = response.desp
  //                   data2 = response.qty
  //                   data3 = response.price
  //                   data4 = response.gst
  //                   data5 = response.sgst
                    
  //                   document.getElementById('hsn116').value = data
  //                   document.getElementById('description16').value = data1
  //                   document.getElementById('qtyspan16').innerHTML = data2;
  //                   document.getElementById('unit116').value = data3

                    

                 
                    
                    
  //                   if (place == '{{ cmp1.state }}')
  //                   {
  //                     document.getElementById('ta116').innerHTML = data4 + ' % GST';
  //                     document.getElementById('ta116').value=data4

  //                   } 
                    
  //                   document.getElementById('ta516').innerHTML  = data5 + ' % IGST';
  //                   document.getElementById('ta516').value=data5
  //                   if (data2<1)
  //                   {
                      
                      
  //                     document.getElementById('qtyspan16').style.color="red";
  //                   }
  //                   else{
  //                     pass
  //                   }
  //               }

  //     });
  //   });
  //   $(document).on('click','#product17',function(){
  //     select = $('#product17').val();
  //     $.ajax({
  //       type: "GET",
  //       url: "{% url 'getitems2' %}",
  //       data: {
  //         id: select
  //       },
  //       success:function(response){
  //                   console.log(response)
  //                   data = response.hsn
  //                   data1 = response.desp
  //                   data2 = response.qty
  //                   data3 = response.price
  //                   data4 = response.gst
  //                   data5 = response.sgst
                    
  //                   document.getElementById('hsn117').value = data
  //                   document.getElementById('description17').value = data1
  //                   document.getElementById('qtyspan17').innerHTML = data2;
  //                   document.getElementById('unit117').value = data3

                    

                  
                    
                    
  //                   if (place == '{{ cmp1.state }}')
  //                   {
  //                     document.getElementById('ta117').innerHTML = data4 + ' % GST';
  //                     document.getElementById('ta117').value=data4

  //                   } 
                    
  //                   document.getElementById('ta517').innerHTML  = data5 + ' % IGST';
  //                   document.getElementById('ta517').value=data5
  //                   if (data2<1)
  //                   {
                      
                      
  //                     document.getElementById('qtyspan17').style.color="red";
  //                   }
  //                   else{
  //                     pass
  //                   }
  //               }

  //     });
  //   });
  //   $(document).on('click','#product18',function(){
  //     select = $('#product18').val();
  //     $.ajax({
  //       type: "GET",
  //       url: "{% url 'getitems2' %}",
  //       data: {
  //         id: select
  //       },
  //       success:function(response){
  //                   console.log(response)
  //                   data = response.hsn
  //                   data1 = response.desp
  //                   data2 = response.qty
  //                   data3 = response.price
  //                   data4 = response.gst
  //                   data5 = response.sgst
                    
  //                   document.getElementById('hsn118').value = data
  //                   document.getElementById('description18').value = data1
  //                   document.getElementById('qtyspan18').innerHTML = data2;
  //                   document.getElementById('unit118').value = data3

                    

                  
                    
                    
  //                   if (place == '{{ cmp1.state }}')
  //                   {
  //                     document.getElementById('ta118').innerHTML = data4 + ' % GST';
  //                     document.getElementById('ta118').value=data4

  //                   } 
                    
  //                   document.getElementById('ta518').innerHTML  = data5 + ' % IGST';
  //                   document.getElementById('ta518').value=data5
  //                   if (data2<1)
  //                   {
                      
                      
  //                     document.getElementById('qtyspan18').style.color="red";
  //                   }
  //                   else{
  //                     pass
  //                   }
  //               }

  //     });
  //   });
  //   $(document).on('click','#product19',function(){
  //     select = $('#product19').val();
  //     $.ajax({
  //       type: "GET",
  //       url: "{% url 'getitems2' %}",
  //       data: {
  //         id: select
  //       },
  //       success:function(response){
  //                   console.log(response)
  //                   data = response.hsn
  //                   data1 = response.desp
  //                   data2 = response.qty
  //                   data3 = response.price
  //                   data4 = response.gst
  //                   data5 = response.sgst
                    
  //                   document.getElementById('hsn119').value = data
  //                   document.getElementById('description19').value = data1
  //                   document.getElementById('qtyspan19').innerHTML = data2;
  //                   document.getElementById('unit119').value = data3

                    

                    
                    
  //                   if (place == '{{ cmp1.state }}')
  //                   {
  //                     document.getElementById('ta119').innerHTML = data4 + ' % GST';
  //                     document.getElementById('ta119').value=data4

  //                   } 
                    
  //                   document.getElementById('ta519').innerHTML  = data5 + ' % IGST';
  //                   document.getElementById('ta519').value=data5
  //                   if (data2<1)
  //                   {
                      
                      
  //                     document.getElementById('qtyspan19').style.color="red";
  //                   }
  //                   else{
  //                     pass
  //                   }
  //               }

  //     });
  //   });
  //   $(document).on('click','#product120',function(){
  //     select = $('#product120').val();
  //     $.ajax({
  //       type: "GET",
  //       url: "{% url 'getitems2' %}",
  //       data: {
  //         id: select
  //       },
  //       success:function(response){
  //                   console.log(response)
  //                   data = response.hsn
  //                   data1 = response.desp
  //                   data2 = response.qty
  //                   data3 = response.price
  //                   data4 = response.gst
  //                   data5 = response.sgst
                    
  //                   document.getElementById('hsn120').value = data
  //                   document.getElementById('description20').value = data1
  //                   document.getElementById('qtyspan20').innerHTML = data2;
  //                   document.getElementById('unit120').value = data3

                    

                  
                    
  //                   if (place == '{{ cmp1.state }}')
  //                   {
  //                     document.getElementById('ta120').innerHTML = data4 + ' % GST';
  //                     document.getElementById('ta120').value=data4

  //                   } 
                    
  //                   document.getElementById('ta520').innerHTML  = data5 + ' % IGST';
  //                   document.getElementById('ta520').value=data5
  //                   if (data2<1)
  //                   {
                      
                      
  //                     document.getElementById('qtyspan20').style.color="red";
  //                   }
  //                   else{
  //                     pass
  //                   }
  //               }

  //     });
  //   });
 
   // });

</script>
{% endblock %}
